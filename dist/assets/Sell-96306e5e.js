import{M as kt,N as yt,z as p,ad as W,O as bt,P as o,A as i,Q as c,x as u,C as _,I as t,S as r,F as m,W as a,Y as b,af as X,ag as Y,_ as x,D as Z,aj as xt,Z as w,E as J,U as g,X as k,ai as wt,B as Vt,G as Ct,H as St}from"./index-8564e094.js";import{_ as Bt}from"./refresh-9fe172ae.js";import{_ as $t,M as Lt,a as It,b as Ft,c as Tt}from"./MarqueeText.common-5d5034d3.js";import{_ as Ut}from"./search-e322bae4.js";import{_ as Nt}from"./close-d0614903.js";import{P as At}from"./topWrap-9f1fc4c8.js";import{_ as Dt}from"./_plugin-vue_export-helper-c27b6911.js";import{V as Ot}from"./VSelect-a174d741.js";import{V as K}from"./VTextField-a2368173.js";import{V as tt,a as et}from"./VCarouselItem-2a997733.js";import{V as Pt,a as M}from"./VTabs-048d4d68.js";import{a as qt,b as Mt,V as jt}from"./VList-f62a60da.js";import{V as Et}from"./VBottomSheet-a1ff33cc.js";import"./_commonjsHelpers-de833af9.js";/* empty css                                                                */import"./VInput-39322aa8.js";import"./index-6ea14b49.js";import"./VVirtualScroll-05a373d7.js";import"./VCheckboxBtn-0951de1a.js";import"./VSelectionControl-bb17468b.js";import"./VChip-8740141c.js";import"./VWindowItem-55169137.js";import"./ssrBoot-ccc91bf9.js";import"./VDivider-ddc3140e.js";const f=F=>(Ct("data-v-9c79e510"),F=F(),St(),F),Ht={class:"hores-race-lamp flexStart"},Rt=f(()=>t("img",{src:It,alt:"",class:"refresh-data"},null,-1)),zt=f(()=>t("span",{style:{color:"#f90"}}," 该平台可以直接扩大股票配资客户的交易资金，使股票配资客户获得充裕的资金，成本低，盈利100%属于用户。",-1)),Gt={class:"row-tab-box flexBetween"},Qt=f(()=>t("h2",{class:"active-text-color"},"股票名称/代码",-1)),Wt={class:"flexEnd"},Xt={class:"flexBetween new-title-box"},Yt={key:1},Zt=f(()=>t("img",{src:Ft,alt:"",class:"img-right"},null,-1)),Jt={class:"flexBetween controls-box"},Kt={style:{},class:"controls-left"},te=f(()=>t("div",{class:"flexBetween buy-sell-box"},[t("p",{class:"buy-box"},"卖出")],-1)),ee={key:0,class:"buy"},se={class:"up-down-number flexBetween"},le={class:"roseColor"},oe={class:"fallColor"},ae={class:"input-box",style:{"margin-top":"15px"}},ne={class:"component-box flexBetween"},re={class:"up-down-number flexBetween"},ie={class:"fallColor"},ce={class:"controls-right"},de={key:0,class:"new-box"},ue={class:"fallColor"},_e=f(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"2px",margin:"5px 0"}},null,-1)),pe={class:"pinkColor"},fe={key:1,class:"new-box"},me=f(()=>t("div",{class:"flexBetween records-list pr-2"},[t("p",null,"时间"),t("p",null,"价格"),t("p",null,"量")],-1)),he={class:"pinkColor"},ve={class:"flexAroud"},ge={class:"flexCenter cut-detail"},ke=f(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"5px",margin:"10px 0"}},null,-1)),ye={class:"table-box flexStart"},be={key:0,class:"new-box"},xe=f(()=>t("tr",{class:"tr-list"},[t("th",{style:{"text-align":"left"}},"名称|市值"),t("th",{style:{"text-align":"right"}},"现价|成本"),t("th",{style:{"text-align":"right"}},"可用|持仓"),t("th",{style:{"text-align":"right"},class:"cutUp"},"浮动|盈亏"),t("th",{style:{"text-align":"right"},class:"cutUp"},"操作")],-1)),we=f(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"2px"}},null,-1)),Ve={class:"tr-one"},Ce={class:"tr-two text-right"},Se={class:"tr-two-number"},Be={class:"tr-three",style:{"text-align":"right"}},$e={key:0},Le={key:1},Ie={class:"tr-four",style:{"text-align":"right"}},Fe={class:"text-right"},Te={key:1,class:"new-box"},Ue={class:"tab-box"},Ne={key:0},Ae=f(()=>t("tr",{class:"tr-list"},[t("th",{style:{"text-align":"left"}},"名称|代码"),t("th",{style:{"text-align":"right"}},"价格"),t("th",{style:{"text-align":"right"}},"数量|类型"),t("th",{style:{"text-align":"right"},class:"cutUp"},"时间"),t("th",null,"操作")],-1)),De=f(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"2px"}},null,-1)),Oe={class:"tr-one"},Pe={class:"tr-two",style:{"text-align":"right"}},qe={class:"tr-two-number"},Me={class:"tr-three",style:{"text-align":"right"}},je={class:"tr-four",style:{"text-align":"right"}},Ee=["onClick"],He={key:1},Re=f(()=>t("tr",{class:"tr-list"},[t("th",{style:{"text-align":"left"}},"名称|代码"),t("th",{style:{"text-align":"right"}},"金额"),t("th",{style:{"text-align":"right"}},"数量|类型"),t("th",{style:{"text-align":"right"},class:"cutUp"},"时间")],-1)),ze=f(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"2px"}},null,-1)),Ge={class:"tr-one"},Qe={class:"tr-two",style:{"text-align":"right"}},We={class:"tr-two-number"},Xe={class:"tr-three",style:{"text-align":"right"}},Ye={class:"tr-four",style:{"text-align":"right"}},Ze={key:2},Je=f(()=>t("tr",{class:"tr-list"},[t("th",{style:{"text-align":"left"}},"名称|代码"),t("th",{style:{"text-align":"right"}},"价格"),t("th",{style:{"text-align":"right"}},"数量|类型"),t("th",{style:{"text-align":"right"},class:"cutUp"},"时间")],-1)),Ke=f(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"2px"}},null,-1)),ts={class:"tr-one"},es={class:"tr-two",style:{"text-align":"right"}},ss={class:"tr-two-number"},ls={class:"tr-three",style:{"text-align":"right"}},os={class:"tr-four",style:{"text-align":"right"}},as={class:"flexBetween sheet-top"},ns=f(()=>t("div",{class:"sheet-sure"},[m("请选择您的合约"),t("span",null,"[新开合约]")],-1)),rs={class:"flexBetween type-list"},is={class:"list-select",src:Tt,alt:""},cs={__name:"Sell",setup(F){const O=kt(),j=yt(),v=p(100),B=p(1),V=p(0),C=p(0),S=p(0),st=p(1);p(null);const T=p(""),U=p(!1);p(!1),p("");const h=W({amount:0,limit:0,order_id:""}),$=p("0.000001");p("平安银行"),p("000001");const L=W({buy:[],sell:[]});p(0);const I=p("market_price"),lt=[{title:"市价交易",key:"market_price"},{title:"限价委托",key:"limit_price"}],P=p([]);bt(()=>{j.query.order_id&&E(j.query.order_id),o.getters.token&&o.dispatch("contract/getMinList")});const E=s=>{s&&H(s),o.state.market.stock_new_info.f107+"."+o.state.market.stock_new_info.f57!=$.value&&o.dispatch("market/getStockNewInfo",$.value),nt(),N(),A(0)},H=s=>{o.dispatch("trading/getOrderInfo",s).then(e=>{e.code&&(h.limit=e.number,h.order_id=e.id,$.value=e.code,ot(e.code),o.state.market.stock_new_info.f107<2&&o.dispatch("market/getBuySellFive",$.value).then(n=>{L.buy=n.buy,L.sell=n.sell}),N(),A(0))})},ot=s=>o.dispatch("market/getStockNewInfo",s),q=s=>{S.value=s,s==0||s==2?(o.commit("trading/clearTrustList"),A(s)):s==1&&R()},at=(s,e)=>((e-s)/s*100).toFixed(2),N=()=>{o.dispatch("trading/getActiveList")},nt=async()=>{const s=await o.dispatch("market/getStockFenShi",$.value);P.value=rt(s),P.value.reverse()},rt=s=>s.map(n=>{const d=n.split(",");return{date:d[0],price:parseFloat(d[1]),limit:parseInt(d[2],10)}}),R=()=>{o.dispatch("trading/getSuccessList")},it=s=>{o.dispatch("trading/cancelOrder",s).then(()=>{o.dispatch("snackbar/success",{active:!0,body:"取消成功！"}),A(0),N()})},ct=(s,e)=>{O.push({path:s,query:{order_id:e}}),E(e)},dt=()=>{if(h.order_id==""){o.dispatch("snackbar/warning",{active:!0,body:"请选择订单！"});return}if(I.value=="limit_price"&&T.value==""){o.dispatch("snackbar/warning",{active:!0,body:"限价委托价格不能为空！"});return}if(v.value>h.limit){o.dispatch("snackbar/warning",{active:!0,body:"交易数量超出拥有数量"});return}o.dispatch("trading/sell",{order_id:h.order_id,number:v.value,type:I.value,price:T.value}).then(()=>{o.dispatch("snackbar/success",{active:!0,body:"卖出成功"}),H(h.order_id),N(),R()})},z=s=>{if(s=="a"&&(v.value=v.value+100),s=="c"&&v.value>0){let e=v.value-100;e>0?v.value=e:v.value=0}},ut=(s,e,n,d)=>{O.push({path:s,query:{code:n,title:e,prefix:d}})},_t=()=>{window.location.reload()},pt=s=>{O.push(s)},A=s=>{o.dispatch("trading/getTrustList",s)},D=(s,e)=>{if(h.limit<=0)return!1;let n=h.limit/s;if(n>=100){let d=ft(n);d>h.limit?v.value=d-100:v.value=d}else v.value=100;B.value=e},ft=s=>{const e=s%100;return e===0?s:s+(100-e)},mt=s=>{if(s<0)return"green";if(s===0||s==="")return"black";if(s>0)return"red"},ht=p("请选择合约"),G=p(0),vt=s=>{G.value=s,ht.value=o.state.contract.minList[s].contract_type_title+o.state.contract.minList[s].contract_limit_limit+"倍",h.amount=o.state.contract.minList[s].balance,h.limit=parseFloat(h.amount/w(o.state.market.stock_new_info.f43,o.state.market.stock_new_info.f59)).toFixed(2),h.order_id=o.state.contract.minList[s].order_id},gt=s=>(s=s.toString(),s.replace(/(\d{2})(\d{2})(\d{2})/,"$1:$2")),Q=s=>s>0?"+"+s:s;return(s,e)=>(i(),c("div",null,[u(At,null,{headerCenter:_(()=>[m("卖出")]),headerRight:_(()=>[t("img",{src:Bt,alt:"",onClick:_t,class:"refresh-data"})]),_:1}),t("div",Ht,[Rt,u(r(Lt),{repeat:1},{default:_(()=>[zt]),_:1})]),t("div",Gt,[Qt,t("div",Wt,[t("p",null,[m(a(r(o).state.market.stock_new_info.f58),1),t("span",null,"("+a(r(xt)(r(o).state.market.stock_new_info.f57,r(o).state.market.stock_new_info.f107))+")",1)]),t("img",{src:Ut,alt:"",class:"img-search",onClick:e[0]||(e[0]=n=>pt("/Search"))})])]),t("div",Xt,[t("p",null,[m(" 最新 "),r(o).state.market.stock_new_info.f169!="-"?(i(),c("span",{key:0,class:b("text-"+mt(r(w)(r(o).state.market.stock_new_info.f169,r(o).state.market.stock_new_info.f59)))},a(r(w)(r(o).state.market.stock_new_info.f43,r(o).state.market.stock_new_info.f59))+" "+a(Q(r(w)(r(o).state.market.stock_new_info.f169,r(o).state.market.stock_new_info.f59)))+" "+a(Q(r(w)(r(o).state.market.stock_new_info.f170,r(o).state.market.stock_new_info.f59))+"%"),3)):(i(),c("span",Yt,a(r(o).state.market.stock_new_info.f43)+" "+a(r(o).state.market.stock_new_info.f169)+" "+a(r(o).state.market.stock_new_info.f170),1))]),t("div",null,[t("img",{src:$t,alt:"",onClick:e[1]||(e[1]=n=>ut("/ChanrtPage",r(o).state.market.stock_new_info.f58,r(o).state.market.stock_new_info.f57,r(o).state.market.stock_new_info.f107)),class:"img-right"}),Zt])]),t("div",Jt,[t("div",Kt,[te,st.value==1?(i(),c("div",ee,[u(Ot,{label:"类型",items:lt,"item-title":"title","item-value":"key",modelValue:I.value,"onUpdate:modelValue":e[2]||(e[2]=n=>I.value=n),variant:"solo-filled","hide-details":"",class:"mt-2"},null,8,["modelValue"]),t("div",se,[t("p",null,[m(" 涨停"),t("span",le,a(r(w)(r(o).state.market.stock_new_info.f51,r(o).state.market.stock_new_info.f59)),1)]),t("p",null,[m(" 跌停"),t("span",oe,a(r(w)(r(o).state.market.stock_new_info.f52,r(o).state.market.stock_new_info.f59)),1)])]),t("div",ae,[X(u(K,{type:"string",modelValue:T.value,"onUpdate:modelValue":e[3]||(e[3]=n=>T.value=n),placeholder:"请输入数值",clearable:"",disabled:!1,density:"default",variant:"outlined","single-line":"","hide-details":"",label:"价格"},null,8,["modelValue"]),[[Y,I.value=="limit_price"]]),u(K,{type:"number",modelValue:v.value,"onUpdate:modelValue":e[6]||(e[6]=n=>v.value=n),placeholder:"请输入数值",clearable:"",disabled:!1,density:"default",variant:"outlined","single-line":"","hide-details":""},{append:_(()=>[u(J,{color:"black",onClick:e[4]||(e[4]=n=>z("c")),class:"down-num"},{default:_(()=>[m(" mdi-minus ")]),_:1}),u(J,{color:"black",onClick:e[5]||(e[5]=n=>z("a")),class:"up-num"},{default:_(()=>[m(" mdi-plus ")]),_:1})]),_:1},8,["modelValue"])]),t("div",ne,[t("p",{class:b(B.value==1?"redBg":""),onClick:e[7]||(e[7]=n=>D(4,1))}," 1/4 ",2),t("p",{class:b(B.value==2?"redBg":""),onClick:e[8]||(e[8]=n=>D(3,2))}," 1/3 ",2),t("p",{class:b(B.value==3?"redBg":""),onClick:e[9]||(e[9]=n=>D(2,3))}," 1/2 ",2),t("p",{class:b(B.value==4?"redBg":""),onClick:e[10]||(e[10]=n=>D(1,4))}," 全仓 ",2)]),t("div",re,[t("p",null,[m(" 可卖股数"),t("span",ie,a(h.limit),1)])])])):x("",!0)]),t("div",ce,[u(tt,{"show-arrows":!1,"hide-delimiters":"",modelValue:C.value,"onUpdate:modelValue":e[11]||(e[11]=n=>C.value=n),height:"auto"},{default:_(()=>[(i(),c(g,null,k(2,(n,d)=>u(et,{key:d},{default:_(()=>[d==0?(i(),c("div",de,[t("div",null,[(i(!0),c(g,null,k(L.sell,(l,y)=>(i(),c("div",{class:"flexBetween records-list",key:y},[t("p",null,"卖"+a(L.sell.length-y),1),t("p",ue,a(l.price),1),t("p",null,a(l.vol),1)]))),128)),_e,(i(!0),c(g,null,k(L.buy,(l,y)=>(i(),c("div",{class:"flexBetween records-list",key:y},[t("p",null,"买"+a(y+1),1),t("p",pe,a(l.price),1),t("p",null,a(l.vol),1)]))),128))])])):x("",!0),d==1?(i(),c("div",fe,[me,(i(!0),c(g,null,k(P.value,(l,y)=>(i(),c("div",{key:y,class:"flexBetween records-list pr-2"},[t("p",null,a(gt(l.date)),1),t("p",he,a(l.price),1),t("p",null,a(l.limit),1)]))),128))])):x("",!0)]),_:2},1024)),64))]),_:1},8,["modelValue"])])]),t("div",ve,[u(Z,{class:"sure-btn",onClick:dt},{default:_(()=>[m("交易")]),_:1}),t("div",ge,[t("p",{class:b(C.value==0?"roseColor":""),onClick:e[12]||(e[12]=n=>C.value=0)},"+档",2),t("p",{class:b(C.value==1?"roseColor":""),onClick:e[13]||(e[13]=n=>C.value=1)},"明细",2)])]),ke,t("div",ye,[t("p",{class:b(V.value==0?"active-tab":""),onClick:e[14]||(e[14]=n=>V.value=0)}," 持仓 ",2),t("p",{class:b(V.value==1?"active-tab":""),onClick:e[15]||(e[15]=n=>V.value=1)}," 订单 ",2)]),u(tt,{"show-arrows":!1,"hide-delimiters":"",modelValue:V.value,"onUpdate:modelValue":e[20]||(e[20]=n=>V.value=n),height:"auto"},{default:_(()=>[(i(),c(g,null,k(2,(n,d)=>u(et,{key:d},{default:_(()=>[d==0?(i(),c("div",be,[t("table",null,[t("tbody",null,[xe,we,(i(!0),c(g,null,k(r(o).state.trading.active_list,l=>(i(),c("tr",{class:"tr-list",key:l.code},[t("td",Ve,[t("p",null,a(l.title),1),t("span",null,a((parseFloat(l.sell)*l.number).toFixed(2)),1)]),t("td",Ce,[t("div",Se,a(l.sell),1),t("span",null,a(l.price),1)]),t("td",Be,[l.active?(i(),c("div",$e,"0")):(i(),c("div",Le,a(l.number),1)),t("span",null,a(l.number),1)]),t("td",Ie,[t("div",null,a(r(wt)(l.price,l.sell,l.number)),1),t("span",null,a(at(l.price,l.sell))+" %",1)]),t("th",Fe,[u(Z,{variant:"outlined",color:"red",onClick:y=>ct("/Sell",l.id),size:"x-small"},{default:_(()=>[m(" 卖出 ")]),_:2},1032,["onClick"])])]))),128))])])])):x("",!0),d==1?(i(),c("div",Te,[t("div",Ue,[u(Pt,{modelValue:S.value,"onUpdate:modelValue":e[19]||(e[19]=l=>S.value=l),"bg-color":"white",color:"black","align-tabs":"left"},{default:_(()=>[u(M,{onClick:e[16]||(e[16]=l=>q(0))},{default:_(()=>[m("待成交")]),_:1}),u(M,{onClick:e[17]||(e[17]=l=>q(1))},{default:_(()=>[m("已成交")]),_:1}),u(M,{onClick:e[18]||(e[18]=l=>q(2))},{default:_(()=>[m("已撤单")]),_:1})]),_:1},8,["modelValue"])]),t("table",null,[S.value==0?(i(),c("tbody",Ne,[Ae,De,(i(!0),c(g,null,k(r(o).state.trading.trust_list,l=>(i(),c("tr",{class:"tr-list",key:l.code},[t("td",Oe,[t("p",null,a(l.title),1),t("span",null,a(l.code),1)]),t("td",Pe,[t("div",qe,a(l.buy_price),1)]),t("td",Me,[t("span",null,a(l.number)+"/"+a(l.type_string),1)]),t("td",je,[t("p",null,a(l.date),1)]),t("th",{onClick:y=>it(l.id)},"撤销",8,Ee)]))),128))])):x("",!0),S.value==1?(i(),c("tbody",He,[Re,ze,(i(!0),c(g,null,k(r(o).state.trading.success_list,l=>(i(),c("tr",{class:"tr-list",key:l.symbol_code},[t("td",Ge,[t("p",null,a(l.title),1),t("span",null,a(l.symbol_code),1)]),t("td",Qe,[t("div",We,a(l.amount),1)]),t("td",Xe,[t("span",null,a(l.number)+"/"+a(l.type_string),1)]),t("td",Ye,[t("p",null,a(l.date),1)])]))),128))])):x("",!0),S.value==2?(i(),c("tbody",Ze,[Je,Ke,(i(!0),c(g,null,k(r(o).state.trading.trust_list,l=>(i(),c("tr",{class:"tr-list",key:l.code},[t("td",ts,[t("p",null,a(l.title),1),t("span",null,a(l.code),1)]),t("td",es,[t("div",ss,a(l.buy_price),1)]),t("td",ls,[t("span",null,a(l.number)+"/委托",1)]),t("td",os,[t("p",null,a(l.date),1)])]))),128))])):x("",!0)])])):x("",!0)]),_:2},1024)),64))]),_:1},8,["modelValue"]),u(r(Et),{modelValue:U.value,"onUpdate:modelValue":e[22]||(e[22]=n=>U.value=n)},{default:_(()=>[u(qt,{class:"pb-5"},{default:_(()=>[t("div",as,[ns,t("img",{src:Nt,alt:"",onClick:e[21]||(e[21]=n=>U.value=!1)})]),(i(!0),c(g,null,k(r(o).state.contract.minList,(n,d)=>(i(),Vt(jt,{class:"flexCenter",key:n.order_id,onClick:l=>{U.value=!1,vt(d)}},{default:_(()=>[t("div",rs,[u(Mt,null,{default:_(()=>[t("h3",null,[m(a(n.contract_type_title+n.contract_limit_limit)+"倍- ",1),t("span",null,a(n.balance),1),m("元 ")]),t("p",null,"合约号:"+a(n.order_id),1)]),_:2},1024),X(t("img",is,null,512),[[Y,d==G.value]])])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1},8,["modelValue"])]))}},Ns=Dt(cs,[["__scopeId","data-v-9c79e510"]]);export{Ns as default};
