import{P as w}from"./topWrap-b45ed7c5.js";import{z as r,N as C,O as T,P as o,dn as B,A as i,Q as u,x as a,C as t,I as s,D as q,U as H,F as l,W as p,_ as d,E as M,B as x}from"./index-e6e2a5d7.js";import{u as N}from"./index-529bcb59.js";import{V as L}from"./VSheet-b2fa7025.js";import{V as h}from"./VRow-14a8aa2c.js";import{V as c}from"./VCol-55e130e7.js";import{V as P}from"./VTextField-a706725f.js";/* empty css                                                                */import"./_plugin-vue_export-helper-c27b6911.js";import"./_commonjsHelpers-de833af9.js";import"./index-ad977584.js";import"./VInput-279feb88.js";const E={class:"bg-color ui-min-height px-3 pt-4"},F=s("div",{class:"text-body-1 mb-3 text-grey-darken-1"}," 请先成功付款后再“填写付款信息”确认提交 ",-1),I={class:"text-center"},U=["src"],W={key:1,class:"text-caption text-grey-darken-1"},z={class:"text-body-2"},A={class:"text-body-2"},D=s("div",{class:"text-body-1 mt-3"},"充值说明",-1),R=["innerHTML"],S=s("div",{class:"text-body-1 mt-5 text-grey-darken-1"},"填写付款信息",-1),J=["innerHTML"],oe={__name:"Weixin",setup(O){const n=r(""),e=r({}),b=r(""),m=r("充值"),{toClipboard:f}=N(),_=C();T(async()=>{if(!_.query.code){o.dispatch("snackbar/warning",{active:!0,body:"充值渠道不存在，请联系在线客服"});return}e.value=await B(_.query.code),m.value=e.value.title});const k=()=>{if(n.value<e.value.min){o.dispatch("snackbar/warning",{active:!0,body:"金额不能低于最低金额"});return}if(e.value.id==""){maintenance();return}o.dispatch("topUp/subPut",{name:b.value,id:e.value.id,amount:n.value}).then(v=>{o.dispatch("snackbar/success",{active:!0,body:"提交成功，请等待审核"})})},g=async()=>{try{await f(e.value.app_id),o.dispatch("snackbar/success",{active:!0,body:"复制成功！"})}catch{o.dispatch("snackbar/warning",{active:!0,body:"操作错误！"})}};return(v,y)=>(i(),u(H,null,[a(w,null,{headerCenter:t(()=>[l(p(m.value),1)]),_:1}),s("div",E,[F,a(L,{class:"px-2 py-5 rounded-lg"},{default:t(()=>[s("div",I,[e.value.qrcode?(i(),u("img",{key:0,src:e.value.qrcode,width:"120"},null,8,U)):d("",!0),e.value.qrcode?(i(),u("div",W," 截屏保存二维码到本地相册 ")):d("",!0),a(h,{class:"ma-0 pa-0"},{default:t(()=>[a(c,{cols:"2",class:"text-right"},{default:t(()=>[l("账号")]),_:1}),a(c,{cols:"10",class:"d-indent-flex"},{default:t(()=>[s("div",z,p(e.value.app_id),1),a(M,{color:"blue-accent-2",size:"x-small",class:"ml-1",onClick:g},{default:t(()=>[l("mdi-content-copy")]),_:1})]),_:1}),e.value.public_key?(i(),x(c,{key:0,cols:"2",class:"text-right"},{default:t(()=>[l("姓名")]),_:1})):d("",!0),e.value.public_key?(i(),x(c,{key:1,cols:"10",class:"d-indent-flex"},{default:t(()=>[s("div",A,p(e.value.public_key),1)]),_:1})):d("",!0)]),_:1}),D]),s("div",{class:"px-2 mt-2 explain-html",innerHTML:e.value.explain},null,8,R)]),_:1}),S,a(h,{class:"ma-0 pa-0 bg-white rounded-lg pb-3 mt-3"},{default:t(()=>[a(c,{cols:"3",class:"px-0 pt-5 pl-3"},{default:t(()=>[l("转账金额")]),_:1}),a(c,{cols:"9",class:"pa-0 pr-3"},{default:t(()=>[a(P,{variant:"underlined",modelValue:n.value,"onUpdate:modelValue":y[0]||(y[0]=V=>n.value=V),class:"mt-3","hide-details":"",density:"compact",placeholder:"请输入最低转账金额100"},null,8,["modelValue"])]),_:1})]),_:1}),a(q,{block:"",color:"#5262EC",class:"mt-4 text-white",onClick:k},{default:t(()=>[l("确认提交")]),_:1}),s("div",{class:"mt-3 text-caption text-grey-darken-1 mt-3",innerHTML:e.value.tip},null,8,J)])],64))}};export{oe as default};
