import{_ as T,a as D}from"./up-76cbebae.js";import{P as E,Q as H,A as d,an as R,R as B,ao as P,S as y,B as l,T as n,y as U,D as $,J as s,G as b,Y as N,_ as q,Z as r,W as V,ay as F,$ as M,H as z,I as A}from"./index-b3cf75d5.js";import{P as G}from"./topWrap-bbacb8f6.js";import{_ as J}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                                                                */const p=i=>(z("data-v-abb65f19"),i=i(),A(),i),Q={class:"tr-list"},W=p(()=>s("th",{style:{"text-align":"left"}},"代码名称",-1)),Y=p(()=>s("th",{style:{"text-align":"right"}},"最新价格",-1)),Z={key:0,src:T},j={key:1,src:D},K=p(()=>s("div",{style:{"background-color":"rgb(245, 245, 245)",height:"2px"}},null,-1)),O=["onClick"],X={class:"tr-one"},tt={class:"tr-two",style:{"text-align":"right"}},et={class:"tr-two-number"},st={class:"tr-three",style:{"text-align":"right"}},ot={__name:"DetailList",setup(i){const k=E(),f=H(),h=d();d();const g=d(2),c=d([]);let u=R({cate:"",page:1,limit:20}),a=null;B(()=>{h.value=f.query.title,u.cate=f.query.code,_(),window.addEventListener("scroll",m),w()}),P(()=>{window.removeEventListener("scroll",m),x()});const w=()=>{a&&clearInterval(a),a=setInterval(()=>{_()},5e3)},x=()=>{a&&(clearInterval(a),a=null)},_=(t=!1)=>{y.dispatch("market/getBoardStockList",u).then(o=>{t?c.value=[...c.value,...o.diff]:c.value=o.diff,g.value=Math.ceil(o.total/u.limit)})},I=()=>{if(u.page+1>g.value){y.dispatch("snackbar/warning",{active:!0,body:"已经是最后一页"});return}_(!0)},m=()=>{let t=document.documentElement.scrollHeight,o=document.documentElement.scrollTop,e=document.documentElement.clientHeight;t-o<=e&&I()},C=t=>{if(t<0)return"green";if(t===0||t==="")return"black";if(t>0)return"red"},S=t=>t>0?"+"+t:t,L=(t,o,e,v)=>{k.push({path:t,query:{code:e,title:o,prefix:v}})};return(t,o)=>(l(),n("div",null,[U(G,null,{headerCenter:$(()=>[b(r(h.value),1)]),_:1}),s("table",null,[s("tbody",null,[s("tr",Q,[W,Y,s("th",{style:{"text-align":"right"},class:"cutUp",onClick:o[0]||(o[0]=e=>t.isUp=!t.isUp)},[b(" 涨跌幅 "),t.isUp?(l(),n("img",Z)):(l(),n("img",j))])]),K,(l(!0),n(N,null,q(c.value,e=>(l(),n("tr",{class:"tr-list",key:e.f12,onClick:v=>L("/ChanrtPage",e.f14,e.f12,e.f13)},[s("td",X,[s("p",null,r(e.f14),1),s("span",null,r(V(F)(e.f12,e.f13)),1)]),s("td",tt,[s("div",et,r(e.f2),1)]),s("td",st,[s("span",{class:M("text-"+C(e.f3))},r(S(e.f3)+"%"),3)])],8,O))),128))])])]))}},ct=J(ot,[["__scopeId","data-v-abb65f19"]]);export{ct as default};
