import{p as Y,cj as W,ck as j,y as z,ak as O,cl as J,e as G,c as C,r as g,I as K,ab as M,J as d,at as q,cm as N,K as Q,L as X,a as F,o as R,a1 as r,N as x,a0 as k,P as p,Y as t,a5 as n,T as B,a3 as D,a4 as E,S as c,a8 as Z,O as H,aa as $,ac as tt,Q as U,W as et,X as ot}from"./index-3a3aaac2.js";import{_ as st}from"./rightImg-2896a6bb.js";import{_ as lt}from"./close-d0614903.js";import{_ as at}from"./select-578d2b77.js";import{P as nt}from"./topWrap-755ec007.js";import{_ as it}from"./_plugin-vue_export-helper-c27b6911.js";import{V as rt}from"./VTextField-41b018c8.js";import{V as ct}from"./VDialog-8091f338.js";import{a as ut,b as dt,V as pt}from"./VList-448767de.js";import{V as mt}from"./VBottomSheet-b2aa90cb.js";import{V as vt}from"./VCheckbox-45c89b3b.js";/* empty css                                                                */import"./index-8489b9b2.js";import"./VInput-bd946cae.js";import"./index-d0e3e874.js";import"./dialog-transition-98184cb7.js";import"./ssrBoot-1fb7e3be.js";import"./createSimpleFunctional-783c788b.js";import"./VAvatar-0e9c99c4.js";import"./VImg-104559b4.js";import"./VDivider-3fcfb7bf.js";import"./VCheckboxBtn-f8581569.js";import"./VSelectionControl-e93ddca9.js";const b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAADIUlEQVRIS71WTWgTURD+5q1/FWpBUap3f04WEYxgtRXBQ+1JT4o/KE3SKhbag16yu293vfSiqEizW4uCoiB6EYt4qdCI2IKoePDv3tYKWq3VCtkdeZuk2CZNUkic07Jv3nwz38ybGUIJ0fVkg1gqDjJjtyBsYmCtukLAFwY+EHPKJzxwjPjbYqZoocOE7G3WSDggaizlTHjOPBSQSDhGNFVIPw+o6+K9mrqpycsBoY1Cx7PCPMFErwgYC+0C64l5G4jWzaoATID749vP7kuXun//CzgHSMrrq5mCARB2Zo35BL4LX1yzrOhwxv4cIdPsi0ALzjDoMAFa5h4Pi2C6RcrurzntWSAVyaqpycEcCJjfBySOOkb0ZTnU6XbfdgG+DWBLhko8J166T8qTM9mcZsxIy/OYEM3y/WzmF1p7euLfywHJ6Zw/79atWCkegnhP9l/SMmIds0C67TUR8DTMCeM9gpmIZXX+mA+ScJIbBbQj6n8A/84Fvf3TfJ1zPf21NTP+CAhbWJUI0k2OcToVUmdaXgqERgZ8RjriGKcL0mVY7gEiepQpMm61zfhAoYgVjQQeDnPGPGSZ8SaVzK3Q+E0YHuOWNGPHF6KrXKDQedu9BdDRTPS8lUzbcwAkQqDAj0jZMVIJIN12IwL0Ihu9pYCeAmgm4LM0YvXFkr+YiJTfpu2NA1DvbJBMyx0DUT0Dj20j1lJBIEXfE4D2gzGqUP8AWMbMN2wzfqqSQIbl3iSiEwCnybC9tKqO/wE0SsD6cqiTsncdNG1HGLXvj0jZMVGMgTnUGbY3SMDecophMV0irxgMy7WJSC+nvM+evbK8tn75aqU7Nf7n69WrnSq/BSWvvHU72SAgXlf9wSoAw/aeEbCrOi2IhiwzqnopoKapEJrKVXWbqgKrxphghmubsfbZMaE+5g8+At75SB9bqJPPr4Bw8HFwG0TFB18YVUVHudYiZVv+KM95WGo5EcSjYetn2lBoOQGzNzU53VV0OfmXjoTsa14i+AIDu8p6qItdt/K572/QODjExLsZvJkg1qjNQy2QAfNHYkoFgu+XWiD/AsuYBMsfX6RYAAAAAElFTkSuQmCC";const _t=Y({id:String,text:String,...W(j({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),ft=z()({name:"VTooltip",props:_t(),emits:{"update:modelValue":e=>!0},setup(e,P){let{slots:h}=P;const m=O(e,"modelValue"),{scopeId:f}=J(),v=G(),y=C(()=>e.id||`v-tooltip-${v}`),A=g(),_=C(()=>e.location.split(" ").length>1?e.location:e.location+" center"),S=C(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),u=C(()=>e.transition?e.transition:m.value?"scale-transition":"fade-transition"),a=C(()=>q({"aria-describedby":y.value},e.activatorProps));return K(()=>{const[T]=M.filterProps(e);return d(M,q({ref:A,class:["v-tooltip",e.class],style:e.style,id:y.value},T,{modelValue:m.value,"onUpdate:modelValue":V=>m.value=V,transition:u.value,absolute:!0,location:_.value,origin:S.value,persistent:!0,role:"tooltip",activatorProps:a.value,_disableGlobalStack:!0},f),{activator:h.activator,default:function(){var l;for(var V=arguments.length,w=new Array(V),i=0;i<V;i++)w[i]=arguments[i];return((l=h.default)==null?void 0:l.call(h,...w))??e.text}})}),N({},A)}}),o=e=>(et("data-v-e2a3eca0"),e=e(),ot(),e),gt=o(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"3px"}},null,-1)),ht={class:"flexBetween list-box"},bt=o(()=>t("h3",null,"钱包可用余额",-1)),Vt=o(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"3px"}},null,-1)),xt=o(()=>t("h3",null,"合约类型",-1)),yt={class:"pact-type"},At=o(()=>t("img",{src:st,alt:""},null,-1)),Ct=o(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"3px"}},null,-1)),kt={class:"input-number"},Bt=o(()=>t("div",{class:"flexBetween input-title-box"},[t("h2",null,"请输入保证金额度")],-1)),St=o(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"3px"}},null,-1)),wt=o(()=>t("div",{class:"limit-box mb-n8"},[t("h5",null,"申请额度")],-1)),It={class:"flexStart limit-list-box"},Pt=["onClick"],Tt=o(()=>t("span",null,null,-1)),Mt={class:"flexBetween sheet-top"},qt=o(()=>t("div",{class:"sheet-sure"},"选择合约类型",-1)),Dt={class:"flexBetween type-list"},Et={key:0,src:at,alt:""},Ut={class:"prop-tips"},Lt=o(()=>t("h1",null,"详情",-1)),Yt={class:"prop-cont flexBetween"},Wt=o(()=>t("p",null,[c(" 总操盘资金 "),t("img",{src:b,alt:""})],-1)),jt={class:"prop-cont flexBetween"},zt=o(()=>t("p",null,"保证金/本金",-1)),Ot={class:"prop-cont flexBetween"},Jt=o(()=>t("p",null,"配资资金",-1)),Gt={class:"prop-cont flexBetween"},Kt=o(()=>t("p",null,[c(" 亏损预警线 "),t("img",{src:b,alt:""})],-1)),Nt={class:"prop-cont flexBetween"},Qt=o(()=>t("p",null,[c(" 亏损平仓线 "),t("img",{src:b,alt:""})],-1)),Xt={class:"prop-cont flexBetween"},Ft=o(()=>t("p",null,[c(" 利率 "),t("img",{src:b,alt:""})],-1)),Rt={class:"prop-cont flexBetween"},Zt=o(()=>t("p",null,"产生利息",-1)),Ht={class:"prop-cont flexBetween"},$t=o(()=>t("p",null,[c(" 资金使用时间 "),t("img",{src:b,alt:""})],-1)),te={class:"prop-cont flexBetween"},ee=o(()=>t("p",null,[c(" 可用利息券 "),t("img",{src:b,alt:""})],-1)),oe={class:"prop-cont flexBetween"},se=o(()=>t("p",{class:"flexStart"},[c(" 准备资金 "),t("img",{src:b,alt:""})],-1)),le={class:"prop-lab"},ae={class:"prop-btn flexCenter"},ne={__name:"ApplyContract",setup(e){const P=Q();X();const h=g(0),m=g(!1),f=g(!1),v=g({}),y=g(!0),A=i=>{r.state.contract.typeList[i]&&(v.value=r.state.contract.typeList[i],T(v.value.id)),m.value=!1},_=g({}),S=i=>{h.value=i,_.value=r.state.contract.limitList[i]},u=g(500),a=F({total:0,expand:0,loss_waring:0,loss_fail:0,rate:0});R(()=>{r.dispatch("user/userInfo"),r.dispatch("contract/getType").then(()=>{A(0)})});const T=i=>{r.dispatch("contract/getLimit",i).then(()=>{S(0)})},V=()=>{const i={amount:u.value,type_id:v.value.id,limit_id:_.value.id};r.dispatch("contract/create",i).then(()=>{r.dispatch("snackbar/success",{active:!0,body:"Success"}),f.value=!1,P.push("/Pact")})},w=()=>{if(f.value=!0,u.value>r.state.user.info.balance){r.dispatch("snackbar/warning",{active:!0,body:"Margem insuficiente, por favor, faça um depósito!"});return}console.log(_),a.expand=u.value*_.value.limit,a.total=a.expand+u.value,a.loss_waring=a.expand+u.value*.5,a.loss_fail=a.expand+u.value*.2,a.rate=a.expand*(_.value.rate/100),console.log(123),console.log(a),f.value=!0};return(i,l)=>(x(),k("div",null,[d(nt,null,{headerCenter:p(()=>[c("申请合约")]),_:1}),gt,t("div",ht,[bt,t("h2",null,n("¥"+B(r).state.user.info.balance),1)]),Vt,t("div",{class:"flexBetween list-box",onClick:l[0]||(l[0]=s=>m.value=!0)},[xt,t("div",yt,[t("span",null,n(v.value.title+v.value.day+"天"),1),At])]),Ct,t("div",kt,[Bt,d(rt,{modelValue:u.value,"onUpdate:modelValue":l[1]||(l[1]=s=>u.value=s),variant:"underlined","hide-details":"auto",required:"",prefix:"¥",size:"25"},null,8,["modelValue"])]),St,wt,t("div",It,[(x(!0),k(D,null,E(B(r).state.contract.limitList,(s,I)=>(x(),k("div",{class:Z(["limit-list",h.value==I?"activeBg":""]),key:s,onClick:L=>S(I)},[t("h4",null,[c(n(s.title)+" ",1),Tt]),t("p",null,n(s.limit*u.value),1)],10,Pt))),128))]),t("div",{class:"apply-btn",onClick:w},"立即申请"),d(B(mt),{modelValue:m.value,"onUpdate:modelValue":l[3]||(l[3]=s=>m.value=s)},{default:p(()=>[d(ut,null,{default:p(()=>[t("div",Mt,[qt,t("img",{src:lt,alt:"",onClick:l[2]||(l[2]=s=>m.value=!1)})]),(x(!0),k(D,null,E(B(r).state.contract.typeList,(s,I)=>(x(),H(pt,{class:"flexCenter",key:s.title,onClick:L=>A(I)},{default:p(()=>[t("div",Dt,[d(dt,null,{default:p(()=>[c(n(s.title+s.day+"天"),1)]),_:2},1024),s.id==v.value.id?(x(),k("img",Et)):$("",!0)])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1},8,["modelValue"]),d(ct,{modelValue:f.value,"onUpdate:modelValue":l[7]||(l[7]=s=>f.value=s),persistent:"",class:"flexCenter"},{default:p(()=>[t("div",Ut,[Lt,t("div",Yt,[Wt,t("span",null,n(a.total),1)]),t("div",jt,[zt,t("span",null,n(u.value),1)]),t("div",Ot,[Jt,t("span",null,n(a.expand)+"/"+n(_.value.limit),1)]),t("div",Gt,[Kt,t("span",null,n(a.loss_waring),1)]),t("div",Nt,[Qt,t("span",null,n(a.loss_fail),1)]),t("div",Xt,[Ft,t("span",null,n(_.value.rate+"%"),1)]),t("div",Rt,[Zt,t("span",null,n(a.rate)+"元",1)]),t("div",Ht,[$t,t("span",null,n(v.value.day)+"天后自动续期",1)]),t("div",te,[ee,t("span",null,n(B(r).state.user.info.interest_amount)+"元",1)]),t("div",oe,[se,t("span",null,n(a.expand),1)]),t("div",le,[d(vt,{modelValue:y.value,"onUpdate:modelValue":l[5]||(l[5]=s=>y.value=s),color:"#2979ff"},{label:p(()=>[t("p",null,[c(" 勾选即表示已阅读并同意《 "),d(ft,{location:"bottom"},{activator:p(({props:s})=>[t("span",{target:"_blank",onClick:l[4]||(l[4]=tt(()=>{},["stop"]))}," 配资协议 ")]),_:1}),c(" 》 ")])]),_:1},8,["modelValue"])]),t("div",ae,[d(U,{onClick:l[6]||(l[6]=s=>f.value=!1),color:"#fb5c39"},{default:p(()=>[c("取消")]),_:1}),d(U,{onClick:V,color:"#fb5c39"},{default:p(()=>[c("确认")]),_:1})])])]),_:1},8,["modelValue"])]))}},Pe=it(ne,[["__scopeId","data-v-e2a3eca0"]]);export{Pe as default};
