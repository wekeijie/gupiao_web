import{M as B,z as y,ad as S,O as L,P as r,A as d,Q as _,x as e,C as t,I as l,D as R,U as f,F as i,S as g,E as D,af as P,ck as E,W as V,ab as M,X as b,B as N,G as j,H as z}from"./index-a9845ce0.js";import{P as F}from"./topWrap-41aff175.js";import{j as H}from"./constName-c3bc78a5.js";import{_ as $}from"./_plugin-vue_export-helper-c27b6911.js";import{V as k}from"./VRow-88472c1d.js";import{V as C}from"./VSheet-aee9ade6.js";import{V as c}from"./VCol-f6d04242.js";import{a as q,b as A,V as G}from"./VList-f1697cca.js";/* empty css                                                                */import"./index-497b9635.js";import"./ssrBoot-6baade50.js";import"./VDivider-12b3dadf.js";const w=p=>(j("data-v-f51dbb04"),p=p(),z(),p),J={class:"bg-color ui-min-height"},O={class:"topup-bg"},Q={class:"px-3 pt-10"},W={class:"px-3 mt-n16"},X=w(()=>l("div",{class:"text-body-1"},"请选择充值金额",-1)),K=w(()=>l("div",{class:"text-body-1 text-red-accent-3"},"请选择充值渠道",-1)),Y={__name:"TopUp",setup(p){const v=B(),o=y(100);let u=S({title:"请选择",icon:"",slug:"",min:0,amount:0});const h=y([]);L(()=>{r.dispatch("topUp/getList").then(()=>{r.state.topUp.list[0]?h.value=r.state.topUp.list:x()})});const U=(a,n,s)=>{u=a.id},I=()=>{if(o.value<u.min){r.dispatch("snackbar/warning",{active:!0,body:"金额不能低于最低金额"});return}if(u.slug==""){x();return}r.dispatch("topUp/subPut",{name:"",slug:u.slug,amount:o.value}).then(a=>{if(a.type==0){window.open(a.url,"_blank");return}a.type==1&&T("/TopUp/unionpay",a.url)})},T=(a,n="")=>{v.push({path:a,query:{orderid:n}})},x=()=>{r.dispatch("snackbar/warning",{active:!0,body:"请选择充值渠道或联系在线客服！"})};return(a,n)=>(d(),_(f,null,[e(F,null,{headerCenter:t(()=>[i("充值")]),headerRight:t(()=>[l("p",{onClick:n[0]||(n[0]=s=>g(H)(g(v),"/Recordslist",{title:"充值审核记录"}))}," 账单 ")]),_:1}),l("div",J,[l("div",O,[l("div",Q,[e(k,{class:"ma-0 pa-0 border-bottom-line"},{default:t(()=>[e(c,{class:"px-0",cols:"1"},{default:t(()=>[e(D,{color:"white"},{default:t(()=>[i("mdi-currency-cny")]),_:1})]),_:1}),e(c,{cols:"11"},{default:t(()=>[P(l("input",{type:"number",class:"amount",placeholder:"请输入充值金额","onUpdate:modelValue":n[1]||(n[1]=s=>o.value=s)},null,512),[[E,o.value]])]),_:1})]),_:1})])]),l("div",W,[e(C,{class:"white rounded-lg py-4 px-3"},{default:t(()=>[X,e(k,{class:"ma-0 pa-0 mt-4"},{default:t(()=>[(d(),_(f,null,V([100,500,1e3,3e3,5e3,1e4],(s,m)=>e(c,{cols:"3",class:M(["mr-7 px-0 text-center rounded mb-3 border-line",{"money-bg-active":o.value===s,"money-bg":o.value!=s}]),key:m,onClick:Z=>o.value=s},{default:t(()=>[i(" ¥"+b(s)+"元 ",1)]),_:2},1032,["onClick","class"])),64)),e(c,{cols:"6",class:"pa-0 text-body-1 mt-2"},{default:t(()=>[i("应付金额")]),_:1}),e(c,{cols:"6",class:"pa-0 text-right text-body-1 text-red pr-6 mt-2"},{default:t(()=>[i("¥"+b(o.value)+"元",1)]),_:1})]),_:1})]),_:1}),e(C,{class:"white rounded-lg py-4 mt-5 px-3"},{default:t(()=>[K,e(q,{density:"compact","onClick:select":U},{default:t(()=>[(d(!0),_(f,null,V(h.value,(s,m)=>(d(),N(G,{key:m,value:s,color:"primary"},{default:t(()=>[e(A,{textContent:b(s.title)},null,8,["textContent"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),e(R,{block:"",color:"#445CED",class:"text-white rounded-0 py-6 text-body-1 fixed",style:{bottom:"0px"},onClick:I},{default:t(()=>[i("充值")]),_:1})],64))}},dt=$(Y,[["__scopeId","data-v-f51dbb04"]]);export{dt as default};
