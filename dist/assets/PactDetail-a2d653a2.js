import{P}from"./topWrap-0244a65b.js";import{M as S,N as A,z as x,O as N,P as a,a0 as B,A as l,Q as o,x as w,C,I as t,Y as e,R as c,ad as v,F as q,T as y,W as g,ai as $,a2 as h,G as z,H as R}from"./index-783ecc06.js";import{_ as T}from"./_plugin-vue_export-helper-c27b6911.js";import{V as E,a as H}from"./VCarouselItem-a00c5608.js";/* empty css                                                                */import"./VWindowItem-e437f475.js";import"./ssrBoot-a05b6a07.js";const n=m=>(z("data-v-28f25cf0"),m=m(),R(),m),M=n(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"5px"}},null,-1)),O={class:"pact-title"},U={class:"flexAroud amount-cont-box"},Y={class:"amount-list"},G=n(()=>t("p",null,"操盘资金",-1)),Q={class:"amount-list"},W=n(()=>t("p",null,"配资金额",-1)),j={class:"amount-list"},J=n(()=>t("p",null,"触发警戒",-1)),K={class:"amount-list"},X=n(()=>t("p",null,"触发止损",-1)),Z={class:"amount-list"},tt=n(()=>t("p",null,"可用余额",-1)),st={class:"amount-list"},et=n(()=>t("p",null,"冻结资金",-1)),lt={class:"amount-list"},ot=n(()=>t("p",null,"证券市值",-1)),at={class:"amount-list"},nt=n(()=>t("p",null,"合约市值",-1)),ct={class:"amount-list"},it=n(()=>t("p",null,"扩大配资",-1)),rt={class:"amount-list"},dt=n(()=>t("p",null,"追保金额",-1)),_t={class:"amount-list"},ut=n(()=>t("p",null,"提盈金额",-1)),ht={class:"amount-list"},pt=n(()=>t("p",null,"合约盈亏",-1)),vt=n(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"5px"}},null,-1)),yt={class:"head-bottom"},gt={class:"table-box flexStart"},bt={class:"coupon-box"},xt={key:0,class:"new-box"},mt=n(()=>t("tr",{class:"tr-list"},[t("th",{style:{"text-align":"left"}},"名称"),t("th",{style:{"text-align":"right"}},"现价"),t("th",{style:{"text-align":"right"}},"盈亏"),t("th",{style:{"text-align":"right"}},"持仓")],-1)),kt={class:"tr-one"},ft={class:"tr-two"},wt={class:"tr-two-number"},Ct={class:"tr-three",style:{"text-align":"right"}},Ft={class:"tr-two-number"},Vt={class:"tr-three",style:{"text-align":"right"}},It={key:1,class:"new-box"},$t={class:"head-bottom"},Lt={class:"table-box flexStart"},Dt={key:0,class:""},Pt=n(()=>t("tr",{class:"tr-list"},[t("th",{style:{"text-align":"left"}},"ID"),t("th",{style:{}},"扩大金额"),t("th",{style:{"text-align":"right"}},"操作时间")],-1)),St={class:"tr-one"},At={class:"tr-two"},Nt={class:"tr-two-number"},Bt={class:"tr-three",style:{"text-align":"right"}},qt={class:"tr-two-number"},zt={key:1,class:""},Rt=n(()=>t("tr",{class:"tr-list"},[t("th",{style:{"text-align":"left"}},"ID"),t("th",{style:{}},"追加金额"),t("th",{style:{"text-align":"right"}},"操作时间")],-1)),Tt={class:"tr-one"},Et={class:"tr-two"},Ht={class:"tr-two-number"},Mt={class:"tr-three",style:{"text-align":"right"}},Ot={class:"tr-two-number"},Ut={key:2,class:"new-box"},Yt=n(()=>t("tr",{class:"tr-list"},[t("th",{style:{"text-align":"left"}},"名称"),t("th",{style:{"text-align":"right"}},"价格/类型"),t("th",{style:{"text-align":"right"}},"数量"),t("th",{style:{"text-align":"right"}},"成交时间")],-1)),Gt=["onClick"],Qt={class:"tr-one"},Wt={class:"tr-two"},jt={key:0,class:"tr-two-number"},Jt={key:1,class:"tr-two-number"},Kt={class:"tr-two-number"},Xt={class:"tr-three",style:{"text-align":"right"}},Zt={class:"tr-two-number"},ts={class:"tr-three",style:{"text-align":"right"}},ss={key:3,class:"new-box"},es=n(()=>t("tr",{class:"tr-list"},[t("th",{style:{"text-align":"left"}},"名称/代码"),t("th",{style:{"text-align":"right"}},"价格"),t("th",{style:{"text-align":"right"}},"数量/类型"),t("th",{style:{"text-align":"right"}},"状态")],-1)),ls={class:"tr-one"},os={class:"tr-two"},as={key:0,class:"tr-two-number text-right"},ns={key:1,class:"tr-two-number text-right"},cs={class:"tr-three",style:{"text-align":"right"}},is={class:"tr-two-number"},rs={class:"tr-three",style:{"text-align":"right"}},ds={key:0},_s={key:1},us={__name:"PactDetail",setup(m){const L=S(),F=A(),u=x(0),p=x(0),b=x(0),k=x(0),V=x(0);N(()=>{F.query.code&&(b.value=F.query.code),a.dispatch("contract/getDetail",b.value).then(r=>{let i=r.stock.reduce((d,_)=>d+=parseFloat(_.sell)*_.number,0);V.value=parseFloat(i.toFixed(2))})}),B(()=>a.state.contract.staock_list,(r,i)=>{let d=0;r.length>0&&r.forEach(s=>{let I=$(s.price,s.sell,s.number);d+=parseFloat(I)});let _=parseFloat(d)+parseFloat(a.state.contract.detail.unrealized);k.value=parseFloat(_.toFixed(2))});const D=r=>{L.push({path:"/market/detail",query:{order_id:r}})},f=r=>{r==1?a.dispatch("contract/getAmountList",b.value):r==2?a.dispatch("contract/getAllList",b.value):r==3&&a.dispatch("contract/getOrderList",b.value),u.value=r};return(r,i)=>(l(),o("div",null,[w(P,null,{headerCenter:C(()=>[q("合约详情")]),_:1}),M,t("div",O,[t("p",null,e(c(a).state.contract.detail.title),1),t("p",null,"["+e(c(a).state.contract.detail.order_id)+"]",1)]),t("div",U,[t("div",Y,[t("span",null,e(c(a).state.contract.detail.total_amount),1),G]),t("div",Q,[t("span",null,e(c(a).state.contract.detail.expand_amount),1),W]),t("div",j,[t("span",null,e(c(a).state.contract.detail.caution_line),1),J]),t("div",K,[t("span",null,e(c(a).state.contract.detail.stop_loss),1),X]),t("div",Z,[t("span",null,e(c(a).state.contract.detail.balance),1),tt]),t("div",st,[t("span",null,e(c(a).state.contract.detail.fee),1),et]),t("div",lt,[t("span",null,e(V.value),1),ot]),t("div",at,[t("span",null,e(parseFloat(c(a).state.contract.detail.total_amount)+k.value),1),nt]),t("div",ct,[t("span",null,e(c(a).state.contract.detail.expend_total),1),it]),t("div",rt,[t("span",null,e(c(a).state.contract.detail.append_total),1),dt]),t("div",_t,[t("span",null,e(c(a).state.contract.detail.withdraw),1),ut]),t("div",ht,[t("span",null,e(k.value),1),pt])]),vt,t("div",yt,[t("div",gt,[t("p",{class:v(u.value==0?"active-tab":""),onClick:i[0]||(i[0]=d=>u.value=0)}," 合约持仓 ",2),t("p",{class:v(u.value==1?"active-tab":""),onClick:i[1]||(i[1]=d=>f(1))}," 资金明细 ",2),t("p",{class:v(u.value==2?"active-tab":""),onClick:i[2]||(i[2]=d=>f(2))}," 成交明细 ",2),t("p",{class:v(u.value==3?"active-tab":""),onClick:i[3]||(i[3]=d=>f(3))}," 我的委托 ",2)])]),t("div",bt,[w(E,{"show-arrows":!1,"hide-delimiters":"",modelValue:u.value,"onUpdate:modelValue":i[6]||(i[6]=d=>u.value=d),height:"auto"},{default:C(()=>[(l(),o(y,null,g(4,(d,_)=>w(H,{key:_},{default:C(()=>[_==0?(l(),o("div",xt,[t("table",null,[t("tbody",null,[mt,(l(!0),o(y,null,g(c(a).state.contract.staock_list,s=>(l(),o("tr",{class:"tr-list",key:s.code},[t("td",kt,[t("h4",null,e(s.title),1)]),t("td",ft,[t("div",wt,e(s.sell),1)]),t("td",Ct,[t("div",Ft,e(c($)(s.price,s.sell,s.number)),1)]),t("td",Vt,e(s.number),1)]))),128))])])])):h("",!0),_==1?(l(),o("div",It,[t("div",$t,[t("div",Lt,[t("p",{class:v(p.value==0?"active-tab":""),onClick:i[4]||(i[4]=s=>p.value=0)}," 扩大配资 ",2),t("p",{class:v(p.value==1?"active-tab":""),onClick:i[5]||(i[5]=s=>p.value=1)}," 增加保证金 ",2)])]),p.value==0?(l(),o("div",Dt,[t("table",null,[t("tbody",null,[Pt,(l(!0),o(y,null,g(c(a).state.contract.amountList.expend,s=>(l(),o("tr",{class:"tr-list",key:s.id},[t("td",St,[t("h4",null,e(s.id),1)]),t("td",At,[t("div",Nt,e(s.amount),1)]),t("td",Bt,[t("div",qt,e(s.date),1)])]))),128))])])])):h("",!0),p.value==1?(l(),o("div",zt,[t("table",null,[t("tbody",null,[Rt,(l(!0),o(y,null,g(c(a).state.contract.amountList.append,s=>(l(),o("tr",{class:"tr-list",key:s.id},[t("td",Tt,[t("h4",null,e(s.id),1)]),t("td",Et,[t("div",Ht,e(s.amount),1)]),t("td",Mt,[t("div",Ot,e(s.date),1)])]))),128))])])])):h("",!0)])):h("",!0),_==2?(l(),o("div",Ut,[t("table",null,[t("tbody",null,[Yt,(l(!0),o(y,null,g(c(a).state.contract.allList,s=>(l(),o("tr",{class:"tr-list",key:s.code,onClick:I=>D(s.id)},[t("td",Qt,[t("h4",null,e(s.title),1)]),t("td",Wt,[s.type=="BUY"?(l(),o("div",jt,e(s.buy_price),1)):(l(),o("div",Jt,e(s.sell_price),1)),t("span",Kt,e(s.type_string),1)]),t("td",Xt,[t("div",Zt,e(s.number),1)]),t("td",ts,[t("p",null,e(s.date),1)])],8,Gt))),128))])])])):h("",!0),_==3?(l(),o("div",ss,[t("table",null,[t("tbody",null,[es,(l(!0),o(y,null,g(c(a).state.contract.orderList,s=>(l(),o("tr",{class:"tr-list",key:s.code},[t("td",ls,[t("h4",null,e(s.title),1),t("p",null,e(s.code),1)]),t("td",os,[s.type=="买入"?(l(),o("div",as,e(s.buy_price),1)):h("",!0),s.type=="卖出"?(l(),o("div",ns,e(s.sell_price),1)):h("",!0)]),t("td",cs,[t("div",is,e(s.number)+"/"+e(s.type),1)]),t("td",rs,[s.status==1?(l(),o("p",ds,"成交")):(l(),o("p",_s,"等待"))])]))),128))])])])):h("",!0)]),_:2},1024)),64))]),_:1},8,["modelValue"])])]))}},ms=T(us,[["__scopeId","data-v-28f25cf0"]]);export{ms as default};
