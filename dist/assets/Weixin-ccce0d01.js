import{P as w}from"./topWrap-ab854108.js";import{A as r,Q as C,R as T,S as o,dE as B,B as i,T as u,y as a,D as t,J as s,E as q,Y as H,G as l,Z as p,a1 as d,F as M,C as h}from"./index-b1f398b2.js";import{u as E}from"./index-529bcb59.js";import{V as L}from"./VSheet-162be47c.js";import{V as x}from"./VRow-5197dbc4.js";import{V as c}from"./VCol-bd8a9368.js";import{V as N}from"./VTextField-17c30ab0.js";/* empty css                                                                */import"./_plugin-vue_export-helper-c27b6911.js";import"./_commonjsHelpers-de833af9.js";import"./index-10636fd0.js";import"./VInput-86ca54e8.js";const F={class:"bg-color ui-min-height px-3 pt-4"},P=s("div",{class:"text-body-1 mb-3 text-grey-darken-1"}," 请先成功付款后再“填写付款信息”确认提交 ",-1),R={class:"text-center"},S=["src"],A={key:1,class:"text-caption text-grey-darken-1"},D={class:"text-body-2"},I={class:"text-body-2"},J=s("div",{class:"text-body-1 mt-3"},"充值说明",-1),U=["innerHTML"],W=s("div",{class:"text-body-1 mt-5 text-grey-darken-1"},"填写付款信息",-1),z=["innerHTML"],oe={__name:"Weixin",setup(G){const n=r(""),e=r({}),b=r(""),m=r("充值"),{toClipboard:f}=E(),_=C();T(async()=>{if(!_.query.code){o.dispatch("snackbar/warning",{active:!0,body:"充值渠道不存在，请联系在线客服"});return}e.value=await B(_.query.code),m.value=e.value.title});const k=()=>{if(n.value<e.value.min){o.dispatch("snackbar/warning",{active:!0,body:"金额不能低于最低金额"});return}if(e.value.id==""){maintenance();return}o.dispatch("topUp/subPut",{name:b.value,id:e.value.id,amount:n.value}).then(v=>{o.dispatch("snackbar/success",{active:!0,body:"提交成功，请等待审核"})})},g=async()=>{try{await f(e.value.app_id),o.dispatch("snackbar/success",{active:!0,body:"复制成功！"})}catch{o.dispatch("snackbar/warning",{active:!0,body:"操作错误！"})}};return(v,y)=>(i(),u(H,null,[a(w,null,{headerCenter:t(()=>[l(p(m.value),1)]),_:1}),s("div",F,[P,a(L,{class:"px-2 py-5 rounded-lg"},{default:t(()=>[s("div",R,[e.value.qrcode?(i(),u("img",{key:0,src:e.value.qrcode,width:"120"},null,8,S)):d("",!0),e.value.qrcode?(i(),u("div",A," 截屏保存二维码到本地相册 ")):d("",!0),a(x,{class:"ma-0 pa-0"},{default:t(()=>[a(c,{cols:"2",class:"text-right"},{default:t(()=>[l("账号")]),_:1}),a(c,{cols:"10",class:"d-indent-flex"},{default:t(()=>[s("div",D,p(e.value.app_id),1),a(M,{color:"blue-accent-2",size:"x-small",class:"ml-1",onClick:g},{default:t(()=>[l("mdi-content-copy")]),_:1})]),_:1}),e.value.public_key?(i(),h(c,{key:0,cols:"2",class:"text-right"},{default:t(()=>[l("姓名")]),_:1})):d("",!0),e.value.public_key?(i(),h(c,{key:1,cols:"10",class:"d-indent-flex"},{default:t(()=>[s("div",I,p(e.value.public_key),1)]),_:1})):d("",!0)]),_:1}),J]),s("div",{class:"px-2 mt-2 explain-html",innerHTML:e.value.explain},null,8,U)]),_:1}),W,a(x,{class:"ma-0 pa-0 bg-white rounded-lg pb-3 mt-3"},{default:t(()=>[a(c,{cols:"3",class:"px-0 pt-5 pl-3"},{default:t(()=>[l("转账金额")]),_:1}),a(c,{cols:"9",class:"pa-0 pr-3"},{default:t(()=>[a(N,{variant:"underlined",modelValue:n.value,"onUpdate:modelValue":y[0]||(y[0]=V=>n.value=V),class:"mt-3","hide-details":"",density:"compact",placeholder:"请输入最低转账金额100"},null,8,["modelValue"])]),_:1})]),_:1}),a(q,{block:"",color:"#5262EC",class:"mt-4 text-white",onClick:k},{default:t(()=>[l("确认提交")]),_:1}),s("div",{class:"mt-3 text-caption text-grey-darken-1 mt-3",innerHTML:e.value.tip},null,8,z)])],64))}};export{oe as default};
