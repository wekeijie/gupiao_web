import{P as $}from"./topWrap-a52c9bb3.js";import{M as D,$ as S,z as x,N as P,O as a,a0 as A,A as l,P as o,x as w,C,I as t,X as e,Q as c,ac as v,F as N,S as y,U as g,ai as I,ae as h,G as B,H as z}from"./index-19c6f7b8.js";import{_ as U}from"./_plugin-vue_export-helper-c27b6911.js";import{V as q,a as E}from"./VCarouselItem-1ee6ea5a.js";/* empty css                                                                */import"./VWindowItem-49ea1b53.js";import"./ssrBoot-b884f9a7.js";const n=m=>(B("data-v-36b8f028"),m=m(),z(),m),H=n(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"5px"}},null,-1)),M={class:"pact-title"},O={class:"flexAroud amount-cont-box"},R={class:"amount-list"},T=n(()=>t("p",null,"操盘资金",-1)),G={class:"amount-list"},Q=n(()=>t("p",null,"配资金额",-1)),X={class:"amount-list"},Y=n(()=>t("p",null,"触发警戒",-1)),j={class:"amount-list"},J=n(()=>t("p",null,"触发止损",-1)),K={class:"amount-list"},W=n(()=>t("p",null,"可用余额",-1)),Z={class:"amount-list"},tt=n(()=>t("p",null,"冻结资金",-1)),st={class:"amount-list"},et=n(()=>t("p",null,"证券市值",-1)),lt={class:"amount-list"},ot=n(()=>t("p",null,"合约市值",-1)),at={class:"amount-list"},nt=n(()=>t("p",null,"扩大配资",-1)),ct={class:"amount-list"},it=n(()=>t("p",null,"追保金额",-1)),rt={class:"amount-list"},dt=n(()=>t("p",null,"提盈金额",-1)),_t={class:"amount-list"},ut=n(()=>t("p",null,"合约盈亏",-1)),ht=n(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"5px"}},null,-1)),pt={class:"head-bottom"},vt={class:"table-box flexStart"},yt={class:"coupon-box"},gt={key:0,class:"new-box"},bt=n(()=>t("tr",{class:"tr-list"},[t("th",{style:{"text-align":"left"}},"名称"),t("th",{style:{"text-align":"right"}},"现价"),t("th",{style:{"text-align":"right"}},"盈亏"),t("th",{style:{"text-align":"right"}},"持仓")],-1)),xt={class:"tr-one"},mt={class:"tr-two"},kt={class:"tr-two-number"},ft={class:"tr-three",style:{"text-align":"right"}},wt={class:"tr-two-number"},Ct={class:"tr-three",style:{"text-align":"right"}},Ft={key:1,class:"new-box"},Vt={class:"head-bottom"},It={class:"table-box flexStart"},Lt={key:0,class:""},$t=n(()=>t("tr",{class:"tr-list"},[t("th",{style:{"text-align":"left"}},"ID"),t("th",{style:{}},"扩大金额"),t("th",{style:{"text-align":"right"}},"操作时间")],-1)),Dt={class:"tr-one"},St={class:"tr-two"},Pt={class:"tr-two-number"},At={class:"tr-three",style:{"text-align":"right"}},Nt={class:"tr-two-number"},Bt={key:1,class:""},zt=n(()=>t("tr",{class:"tr-list"},[t("th",{style:{"text-align":"left"}},"ID"),t("th",{style:{}},"追加金额"),t("th",{style:{"text-align":"right"}},"操作时间")],-1)),Ut={class:"tr-one"},qt={class:"tr-two"},Et={class:"tr-two-number"},Ht={class:"tr-three",style:{"text-align":"right"}},Mt={class:"tr-two-number"},Ot={key:2,class:"new-box"},Rt=n(()=>t("tr",{class:"tr-list"},[t("th",{style:{"text-align":"left"}},"名称"),t("th",{style:{"text-align":"right"}},"价格/类型"),t("th",{style:{"text-align":"right"}},"数量"),t("th",{style:{"text-align":"right"}},"成交时间")],-1)),Tt={class:"tr-one"},Gt={class:"tr-two"},Qt={key:0,class:"tr-two-number"},Xt={key:1,class:"tr-two-number"},Yt={class:"tr-two-number"},jt={class:"tr-three",style:{"text-align":"right"}},Jt={class:"tr-two-number"},Kt={class:"tr-three",style:{"text-align":"right"}},Wt={key:3,class:"new-box"},Zt=n(()=>t("tr",{class:"tr-list"},[t("th",{style:{"text-align":"left"}},"名称/代码"),t("th",{style:{"text-align":"right"}},"价格"),t("th",{style:{"text-align":"right"}},"数量/类型"),t("th",{style:{"text-align":"right"}},"状态")],-1)),ts={class:"tr-one"},ss={class:"tr-two"},es={key:0,class:"tr-two-number text-right"},ls={key:1,class:"tr-two-number text-right"},os={class:"tr-three",style:{"text-align":"right"}},as={class:"tr-two-number"},ns={class:"tr-three",style:{"text-align":"right"}},cs={key:0},is={key:1},rs={__name:"PactDetail",setup(m){D();const F=S(),u=x(0),p=x(0),b=x(0),k=x(0),V=x(0);P(()=>{F.query.code&&(b.value=F.query.code),a.dispatch("contract/getDetail",b.value).then(d=>{let i=d.stock.reduce((r,_)=>r+=parseFloat(_.sell)*_.number,0);V.value=parseFloat(i.toFixed(2))})}),A(()=>a.state.contract.staock_list,(d,i)=>{let r=0;d.length>0&&d.forEach(s=>{let L=I(s.price,s.sell,s.number);r+=parseFloat(L)});let _=parseFloat(r)+parseFloat(a.state.contract.detail.unrealized);k.value=parseFloat(_.toFixed(2))});const f=d=>{d==1?a.dispatch("contract/getAmountList",b.value):d==2?a.dispatch("contract/getAllList",b.value):d==3&&a.dispatch("contract/getOrderList",b.value),u.value=d};return(d,i)=>(l(),o("div",null,[w($,null,{headerCenter:C(()=>[N("合约详情")]),_:1}),H,t("div",M,[t("p",null,e(c(a).state.contract.detail.title),1),t("p",null,"["+e(c(a).state.contract.detail.order_id)+"]",1)]),t("div",O,[t("div",R,[t("span",null,e(c(a).state.contract.detail.total_amount),1),T]),t("div",G,[t("span",null,e(c(a).state.contract.detail.expand_amount),1),Q]),t("div",X,[t("span",null,e(c(a).state.contract.detail.caution_line),1),Y]),t("div",j,[t("span",null,e(c(a).state.contract.detail.stop_loss),1),J]),t("div",K,[t("span",null,e(c(a).state.contract.detail.balance),1),W]),t("div",Z,[t("span",null,e(c(a).state.contract.detail.fee),1),tt]),t("div",st,[t("span",null,e(V.value),1),et]),t("div",lt,[t("span",null,e(parseFloat(c(a).state.contract.detail.total_amount)+k.value),1),ot]),t("div",at,[t("span",null,e(c(a).state.contract.detail.expend_total),1),nt]),t("div",ct,[t("span",null,e(c(a).state.contract.detail.append_total),1),it]),t("div",rt,[t("span",null,e(c(a).state.contract.detail.withdraw),1),dt]),t("div",_t,[t("span",null,e(k.value),1),ut])]),ht,t("div",pt,[t("div",vt,[t("p",{class:v(u.value==0?"active-tab":""),onClick:i[0]||(i[0]=r=>u.value=0)}," 合约持仓 ",2),t("p",{class:v(u.value==1?"active-tab":""),onClick:i[1]||(i[1]=r=>f(1))}," 资金明细 ",2),t("p",{class:v(u.value==2?"active-tab":""),onClick:i[2]||(i[2]=r=>f(2))}," 成交明细 ",2),t("p",{class:v(u.value==3?"active-tab":""),onClick:i[3]||(i[3]=r=>f(3))}," 我的委托 ",2)])]),t("div",yt,[w(q,{"show-arrows":!1,"hide-delimiters":"",modelValue:u.value,"onUpdate:modelValue":i[6]||(i[6]=r=>u.value=r),height:"auto"},{default:C(()=>[(l(),o(y,null,g(4,(r,_)=>w(E,{key:_},{default:C(()=>[_==0?(l(),o("div",gt,[t("table",null,[t("tbody",null,[bt,(l(!0),o(y,null,g(c(a).state.contract.staock_list,s=>(l(),o("tr",{class:"tr-list",key:s.code},[t("td",xt,[t("h4",null,e(s.title),1)]),t("td",mt,[t("div",kt,e(s.sell),1)]),t("td",ft,[t("div",wt,e(c(I)(s.price,s.sell,s.number)),1)]),t("td",Ct,e(s.number),1)]))),128))])])])):h("",!0),_==1?(l(),o("div",Ft,[t("div",Vt,[t("div",It,[t("p",{class:v(p.value==0?"active-tab":""),onClick:i[4]||(i[4]=s=>p.value=0)}," 扩大配资 ",2),t("p",{class:v(p.value==1?"active-tab":""),onClick:i[5]||(i[5]=s=>p.value=1)}," 增加保证金 ",2)])]),p.value==0?(l(),o("div",Lt,[t("table",null,[t("tbody",null,[$t,(l(!0),o(y,null,g(c(a).state.contract.amountList.expend,s=>(l(),o("tr",{class:"tr-list",key:s.id},[t("td",Dt,[t("h4",null,e(s.id),1)]),t("td",St,[t("div",Pt,e(s.amount),1)]),t("td",At,[t("div",Nt,e(s.date),1)])]))),128))])])])):h("",!0),p.value==1?(l(),o("div",Bt,[t("table",null,[t("tbody",null,[zt,(l(!0),o(y,null,g(c(a).state.contract.amountList.append,s=>(l(),o("tr",{class:"tr-list",key:s.id},[t("td",Ut,[t("h4",null,e(s.id),1)]),t("td",qt,[t("div",Et,e(s.amount),1)]),t("td",Ht,[t("div",Mt,e(s.date),1)])]))),128))])])])):h("",!0)])):h("",!0),_==2?(l(),o("div",Ot,[t("table",null,[t("tbody",null,[Rt,(l(!0),o(y,null,g(c(a).state.contract.allList,s=>(l(),o("tr",{class:"tr-list",key:s.code},[t("td",Tt,[t("h4",null,e(s.title),1)]),t("td",Gt,[s.type=="BUY"?(l(),o("div",Qt,e(s.buy_price),1)):(l(),o("div",Xt,e(s.sell_price),1)),t("span",Yt,e(s.type_string),1)]),t("td",jt,[t("div",Jt,e(s.number),1)]),t("td",Kt,[t("p",null,e(s.date),1)])]))),128))])])])):h("",!0),_==3?(l(),o("div",Wt,[t("table",null,[t("tbody",null,[Zt,(l(!0),o(y,null,g(c(a).state.contract.orderList,s=>(l(),o("tr",{class:"tr-list",key:s.code},[t("td",ts,[t("h4",null,e(s.title),1),t("p",null,e(s.code),1)]),t("td",ss,[s.type=="买入"?(l(),o("div",es,e(s.buy_price),1)):h("",!0),s.type=="卖出"?(l(),o("div",ls,e(s.sell_price),1)):h("",!0)]),t("td",os,[t("div",as,e(s.number)+"/"+e(s.type),1)]),t("td",ns,[s.status==1?(l(),o("p",cs,"成交")):(l(),o("p",is,"等待"))])]))),128))])])])):h("",!0)]),_:2},1024)),64))]),_:1},8,["modelValue"])])]))}},gs=U(rs,[["__scopeId","data-v-36b8f028"]]);export{gs as default};
