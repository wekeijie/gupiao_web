import{_ as S,a as L}from"./up-76cbebae.js";import{P as I,Q as D,A as i,an as E,R as H,aw as B,S as v,B as a,T as l,y as P,D as T,J as s,G as y,Y as U,_ as $,Z as n,W as N,ay as R,$ as q,H as V,I as F}from"./index-94436294.js";import{P as M}from"./topWrap-7c54d6f8.js";import{_ as z}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                                                                */const u=r=>(V("data-v-02a07cf1"),r=r(),F(),r),A={class:"tr-list"},G=u(()=>s("th",{style:{"text-align":"left"}},"代码名称",-1)),J=u(()=>s("th",{style:{"text-align":"right"}},"最新价格",-1)),Q={key:0,src:S},W={key:1,src:L},Y=u(()=>s("div",{style:{"background-color":"rgb(245, 245, 245)",height:"2px"}},null,-1)),Z=["onClick"],j={class:"tr-one"},K={class:"tr-two",style:{"text-align":"right"}},O={class:"tr-two-number"},X={class:"tr-three",style:{"text-align":"right"}},tt={__name:"DetailList",setup(r){const k=I(),_=D(),p=i();i();const g=i(2),d=i([]);let c=E({cate:"",page:1,limit:20});H(()=>{p.value=_.query.title,c.cate=_.query.code,h(),window.addEventListener("scroll",f)}),B(()=>{window.removeEventListener("scroll",f)});const h=()=>{v.dispatch("market/getBoardStockList",c).then(t=>{d.value=[...d.value,...t.diff],g.value=Math.ceil(t.total/c.limit)})},w=()=>{if(c.page+1>g.value){v.dispatch("snackbar/warning",{active:!0,body:"已经是最后一页"});return}h()},f=()=>{let t=document.documentElement.scrollHeight,o=document.documentElement.scrollTop,e=document.documentElement.clientHeight;t-o<=e&&w()},x=t=>{if(t<0)return"green";if(t===0||t==="")return"black";if(t>0)return"red"},b=t=>t>0?"+"+t:t,C=(t,o,e,m)=>{k.push({path:t,query:{code:e,title:o,prefix:m}})};return(t,o)=>(a(),l("div",null,[P(M,null,{headerCenter:T(()=>[y(n(p.value),1)]),_:1}),s("table",null,[s("tbody",null,[s("tr",A,[G,J,s("th",{style:{"text-align":"right"},class:"cutUp",onClick:o[0]||(o[0]=e=>t.isUp=!t.isUp)},[y(" 涨跌幅 "),t.isUp?(a(),l("img",Q)):(a(),l("img",W))])]),Y,(a(!0),l(U,null,$(d.value,e=>(a(),l("tr",{class:"tr-list",key:e.f12,onClick:m=>C("/ChanrtPage",e.f14,e.f12,e.f13)},[s("td",j,[s("p",null,n(e.f14),1),s("span",null,n(N(R)(e.f12,e.f13)),1)]),s("td",K,[s("div",O,n(e.f2),1)]),s("td",X,[s("span",{class:q("text-"+x(e.f3))},n(b(e.f3)+"%"),3)])],8,Z))),128))])])]))}},nt=z(tt,[["__scopeId","data-v-02a07cf1"]]);export{nt as default};
