import{K as b,r as v,a as k,o as I,ag as C,a2 as o,N as f,a0 as T,J as n,P as t,Y as s,Q as B,S as w,T as c,a9 as i,ab as u,O as N,ac as P,W as R,X as S}from"./index-1920e71a.js";import{_ as x,a as V}from"./eyeHide-4892524c.js";import{p as g}from"./vaildRule-0f2a6634.js";import{P as D}from"./topWrap-47f91f07.js";import{_ as $}from"./_plugin-vue_export-helper-c27b6911.js";import{V as q}from"./VForm-e4ed6a51.js";import{V as F}from"./VDivider-d2127ea2.js";import{V as h}from"./VTextField-f5aa5195.js";/* empty css                                                                */import"./VInput-1e810e88.js";import"./index-9fec8949.js";const _=d=>(R("data-v-22e9506b"),d=d(),S(),d),U={class:"login-box"},z=_(()=>s("p",null,"当前取款密码",-1)),E={src:x},H={src:V},J=_(()=>s("p",null,"新取款密码",-1)),K={src:x},L={src:V},M={class:"login-box"},O=_(()=>s("p",{class:"forget-box"},null,-1)),Q={__name:"RealTrading",setup(d){b();const e=v("password"),r=k({password:"",new_password:""}),y=async()=>{const{valid:p}=await m.ctx.$refs.form.validate();console.log(p,"valid"),p&&o.dispatch("user/changePayPassword",r).then(()=>{o.dispatch("snackbar/success",{active:!0,body:"修改成功!"}),o.dispatch("user/getInfo")})};let m=v();return I(()=>{m=C(),o.state.user.userInfo.user_name||o.dispatch("user/getInfo")}),(p,a)=>(f(),T("div",null,[n(D,null,{headerCenter:t(()=>[w("更改取款密码")]),_:1}),n(F,{thickness:3}),s("div",U,[n(q,{ref:"form"},{default:t(()=>[n(h,{variant:"underlined",modelValue:r.password,"onUpdate:modelValue":a[1]||(a[1]=l=>r.password=l),required:"",counter:12,label:"请输入当前账号取款密码",type:e.value,rules:c(g)},{prepend:t(()=>[z]),default:t(()=>[s("div",{class:"eye-show",onClick:a[0]||(a[0]=l=>e.value=="text"?e.value="password":e.value="text")},[i(s("img",E,null,512),[[u,e.value=="text"]]),i(s("img",H,null,512),[[u,e.value=="password"]])])]),_:1},8,["modelValue","type","rules"]),c(o).state.user.userInfo.is_pay_pwd?(f(),N(h,{key:0,variant:"underlined",modelValue:r.new_password,"onUpdate:modelValue":a[3]||(a[3]=l=>r.new_password=l),required:"",counter:12,label:"请输入新取款密码",type:e.value,rules:c(g)},{prepend:t(()=>[J]),default:t(()=>[s("div",{class:"eye-show",onClick:a[2]||(a[2]=l=>e.value=="text"?e.value="password":e.value="text")},[i(s("img",K,null,512),[[u,e.value=="text"]]),i(s("img",L,null,512),[[u,e.value=="password"]])])]),_:1},8,["modelValue","type","rules"])):P("",!0)]),_:1},512)]),s("div",M,[n(B,{color:"success",class:"mt-2",size:"x-large",block:"",onClick:y},{default:t(()=>[w(" 提交 ")]),_:1}),O])]))}},oe=$(Q,[["__scopeId","data-v-22e9506b"]]);export{oe as default};
