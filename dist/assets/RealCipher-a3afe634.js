import{M as x,z as c,ad as V,O as y,as as b,A as C,Q as k,x as r,C as o,I as s,D as I,P as p,F as _,S as m,af as d,ag as i,G as R,H as S}from"./index-4a165d8b.js";import{_ as h,a as f}from"./eyeHide-4892524c.js";import{p as v}from"./vaildRule-ef5259b5.js";import{P as B}from"./topWrap-e1bc8341.js";import{_ as D}from"./_plugin-vue_export-helper-c27b6911.js";import{V as P}from"./VForm-b1e51a16.js";import{V as F}from"./VDivider-b7bad0fc.js";import{V as w}from"./VTextField-4f94d19c.js";/* empty css                                                                */import"./VInput-6ffe17b0.js";import"./index-7a90beb4.js";const u=n=>(R("data-v-255203ce"),n=n(),S(),n),N={class:"login-box"},T=u(()=>s("p",null,"当前密码",-1)),q={src:h},z={src:f},H=u(()=>s("p",null,"新密码",-1)),M={src:h},U={src:f},$={class:"login-box"},A=u(()=>s("p",{class:"forget-box"},null,-1)),E={__name:"RealCipher",setup(n){x();const e=c("password"),a=V({password:"",new_password:""}),g=async()=>{if(a.password.length<6||a.password.length>12||a.new_password.length<6||a.new_password.length>12){p.dispatch("snackbar/warning",{active:!0,body:"密码不能小于6为或者大于12位"});return}p.dispatch("user/changePassword",a).then(()=>{p.dispatch("snackbar/success",{active:!0,body:"修改成功!"})})};return c(),y(()=>{b()}),(G,t)=>(C(),k("div",null,[r(B,null,{headerCenter:o(()=>[_("更改账号密码")]),_:1}),r(F,{thickness:3}),s("div",N,[r(P,{ref:"form"},{default:o(()=>[r(w,{variant:"underlined",modelValue:a.password,"onUpdate:modelValue":t[1]||(t[1]=l=>a.password=l),required:"",counter:12,label:"请输入当前密码",type:e.value,rules:m(v)},{prepend:o(()=>[T]),default:o(()=>[s("div",{class:"eye-show",onClick:t[0]||(t[0]=l=>e.value=="text"?e.value="password":e.value="text")},[d(s("img",q,null,512),[[i,e.value=="text"]]),d(s("img",z,null,512),[[i,e.value=="password"]])])]),_:1},8,["modelValue","type","rules"]),r(w,{variant:"underlined",modelValue:a.new_password,"onUpdate:modelValue":t[3]||(t[3]=l=>a.new_password=l),required:"",counter:12,label:"请输入新密码",type:e.value,rules:m(v)},{prepend:o(()=>[H]),default:o(()=>[s("div",{class:"eye-show",onClick:t[2]||(t[2]=l=>e.value=="text"?e.value="password":e.value="text")},[d(s("img",M,null,512),[[i,e.value=="text"]]),d(s("img",U,null,512),[[i,e.value=="password"]])])]),_:1},8,["modelValue","type","rules"])]),_:1},512)]),s("div",$,[r(I,{color:"success",class:"mt-4",size:"x-large",block:"",onClick:g},{default:o(()=>[_(" 提交 ")]),_:1}),A])]))}},se=D(E,[["__scopeId","data-v-255203ce"]]);export{se as default};
