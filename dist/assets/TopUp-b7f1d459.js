import{M as R,z as _,ad as D,O as N,P as r,A as c,Q as f,x as t,C as e,I as l,B as w,_ as P,D as E,U as x,F as i,S as U,E as F,af as M,cm as j,X as T,Y as z,W as h,G as H,H as $}from"./index-7818006a.js";import{P as q}from"./topWrap-b5e28a7f.js";import{j as A}from"./constName-c3bc78a5.js";import{_ as G}from"./_plugin-vue_export-helper-c27b6911.js";import{V as I}from"./VRow-14ec2127.js";import{V as b}from"./VSheet-9cb3f203.js";import{V as d}from"./VCol-80a54b08.js";import{a as J,b as O,V as Q}from"./VList-aed40d86.js";import{V as W}from"./VTextField-a856b331.js";/* empty css                                                                */import"./index-2d2ecde7.js";import"./ssrBoot-ea12bce8.js";import"./VDivider-cf6782b4.js";import"./VInput-b3f8cd2d.js";const g=p=>(H("data-v-8c2a9e19"),p=p(),$(),p),X={class:"bg-color ui-min-height"},Y={class:"topup-bg"},K={class:"px-3 pt-10"},Z={class:"px-3 mt-n16"},ee=g(()=>l("div",{class:"text-body-1"},"请选择充值金额",-1)),te=g(()=>l("div",{class:"text-body-1 text-red-accent-3"},"请选择充值渠道",-1)),ae=g(()=>l("div",{class:"text-body-1"},"用户信息",-1)),se={__name:"TopUp",setup(p){const V=R(),n=_(100);let u=D({title:"请选择",icon:"",slug:"",min:0,amount:0});const k=_([]),v=_(),m=_("");N(()=>{r.dispatch("topUp/getList").then(()=>{r.state.topUp.list[0]?k.value=r.state.topUp.list:C()})});const B=(s,o,a)=>{u=s.id,v.value=u.type},S=()=>{if(n.value<u.min){r.dispatch("snackbar/warning",{active:!0,body:"金额不能低于最低金额"});return}if(u.slug==""){C();return}if(v.value=="manually_type"&&m.value==""){r.dispatch("snackbar/warning",{active:!0,body:"请输入付款人姓名"});return}r.dispatch("topUp/subPut",{name:m.value,slug:u.slug,amount:n.value}).then(s=>{if(s.type==0){window.open(s.url,"_blank");return}s.type==1&&L("/TopUp/unionpay",s.url)})},L=(s,o="")=>{V.push({path:s,query:{orderid:o}})},C=()=>{r.dispatch("snackbar/warning",{active:!0,body:"请选择充值渠道或联系在线客服！"})};return(s,o)=>(c(),f(x,null,[t(q,null,{headerCenter:e(()=>[i("充值")]),headerRight:e(()=>[l("p",{onClick:o[0]||(o[0]=a=>U(A)(U(V),"/Recordslist",{title:"充值审核记录"}))}," 账单 ")]),_:1}),l("div",X,[l("div",Y,[l("div",K,[t(I,{class:"ma-0 pa-0 border-bottom-line"},{default:e(()=>[t(d,{class:"px-0",cols:"1"},{default:e(()=>[t(F,{color:"white"},{default:e(()=>[i("mdi-currency-cny")]),_:1})]),_:1}),t(d,{cols:"11"},{default:e(()=>[M(l("input",{type:"number",class:"amount",placeholder:"请输入充值金额","onUpdate:modelValue":o[1]||(o[1]=a=>n.value=a)},null,512),[[j,n.value]])]),_:1})]),_:1})])]),l("div",Z,[t(b,{class:"white rounded-lg py-4 px-3"},{default:e(()=>[ee,t(I,{class:"ma-0 pa-0 mt-4"},{default:e(()=>[(c(),f(x,null,T([100,500,1e3,3e3,5e3,1e4],(a,y)=>t(d,{cols:"3",class:z(["mr-7 px-0 text-center rounded mb-3 border-line",{"money-bg-active":n.value===a,"money-bg":n.value!=a}]),key:y,onClick:oe=>n.value=a},{default:e(()=>[i(" ¥"+h(a)+"元 ",1)]),_:2},1032,["onClick","class"])),64)),t(d,{cols:"6",class:"pa-0 text-body-1 mt-2"},{default:e(()=>[i("应付金额")]),_:1}),t(d,{cols:"6",class:"pa-0 text-right text-body-1 text-red pr-6 mt-2"},{default:e(()=>[i("¥"+h(n.value)+"元",1)]),_:1})]),_:1})]),_:1}),t(b,{class:"white rounded-lg py-4 mt-5 px-3"},{default:e(()=>[te,t(J,{density:"compact","onClick:select":B},{default:e(()=>[(c(!0),f(x,null,T(k.value,(a,y)=>(c(),w(Q,{key:y,value:a,color:"primary"},{default:e(()=>[t(O,{textContent:h(a.title)},null,8,["textContent"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1}),v.value=="manually_type"?(c(),w(b,{key:0,class:"py-3 mt-2 rounded-lg px-3"},{default:e(()=>[ae,t(W,{label:"请输入付款人姓名",variant:"underlined",modelValue:m.value,"onUpdate:modelValue":o[2]||(o[2]=a=>m.value=a),class:"mt-3"},null,8,["modelValue"])]),_:1})):P("",!0)])]),t(E,{block:"",color:"#445CED",class:"text-white rounded-0 py-6 text-body-1 fixed",style:{bottom:"0px"},onClick:S},{default:e(()=>[i("充值")]),_:1})],64))}},he=G(se,[["__scopeId","data-v-8c2a9e19"]]);export{he as default};
