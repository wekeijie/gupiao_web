import{L as gt,a0 as vt,z as p,ac as Y,O as kt,P as o,A as i,Q as c,x as u,C as _,I as t,R as r,F as f,Y as n,ad as b,ah as J,ai as K,af as x,D as W,al as yt,ae as w,E as X,T as v,U as k,aj as bt,B as xt,G as wt,H as Vt}from"./index-b391f2fb.js";import{_ as Ct}from"./refresh-9fe172ae.js";import{_ as St,M as Bt,a as $t,b as Lt,c as It}from"./MarqueeText.common-a3851b75.js";import{_ as Tt}from"./search-e322bae4.js";import{_ as Ut}from"./close-d0614903.js";import{P as Ft}from"./topWrap-b1f23db4.js";import{_ as Nt}from"./_plugin-vue_export-helper-c27b6911.js";import{V as At}from"./VSelect-0c95ed6c.js";import{V as Z}from"./VTextField-4aa71a33.js";import{V as tt,a as et}from"./VCarouselItem-efdab2c6.js";import{V as Dt,a as q}from"./VTabs-4d8b343c.js";import{a as Ot,b as qt,V as Rt}from"./VList-67f3b8dc.js";import{V as jt}from"./VBottomSheet-e655dd84.js";import"./_commonjsHelpers-de833af9.js";/* empty css                                                                */import"./VInput-efd766fb.js";import"./index-b0b9d708.js";import"./VVirtualScroll-0b949fd6.js";import"./VCheckboxBtn-bcde06ed.js";import"./VSelectionControl-e2e9ee47.js";import"./VChip-40ff5823.js";import"./VWindowItem-21667ace.js";import"./ssrBoot-e90314e3.js";import"./VDivider-61da52bf.js";const m=L=>(wt("data-v-3cd0be37"),L=L(),Vt(),L),Et=m(()=>t("img",{src:Ct,alt:"",class:"refresh-data"},null,-1)),Ht={class:"hores-race-lamp flexStart"},Pt=m(()=>t("img",{src:$t,alt:"",class:"refresh-data"},null,-1)),zt=m(()=>t("span",{style:{color:"#f90"}}," 该平台可以直接扩大股票配资客户的交易资金，使股票配资客户获得充裕的资金，成本低，盈利100%属于用户。",-1)),Mt={class:"row-tab-box flexBetween"},Gt=m(()=>t("h2",null,"股票名称/代码",-1)),Qt={class:"flexEnd"},Yt={class:"flexBetween new-title-box"},Jt=m(()=>t("img",{src:Lt,alt:"",class:"img-right"},null,-1)),Kt={class:"flexBetween controls-box"},Wt={style:{},class:"controls-left"},Xt=m(()=>t("div",{class:"flexBetween buy-sell-box"},[t("p",{class:"buy-box"},"卖出")],-1)),Zt={key:0,class:"buy"},te={class:"up-down-number flexBetween"},ee={class:"roseColor"},se={class:"fallColor"},le={class:"input-box",style:{"margin-top":"15px"}},oe={class:"component-box flexBetween"},ae={class:"up-down-number flexBetween"},ne={class:"fallColor"},re={class:"controls-right"},ie={key:0,class:"new-box"},ce={class:"fallColor"},de=m(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"2px",margin:"5px 0"}},null,-1)),ue={class:"pinkColor"},_e={key:1,class:"new-box"},pe=m(()=>t("div",{class:"flexBetween records-list pr-2"},[t("p",null,"时间"),t("p",null,"价格"),t("p",null,"量")],-1)),me={class:"pinkColor"},fe={class:"flexAroud"},he={class:"flexCenter cut-detail"},ge=m(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"5px",margin:"10px 0"}},null,-1)),ve={class:"table-box flexStart"},ke={key:0,class:"new-box"},ye=m(()=>t("tr",{class:"tr-list"},[t("th",{style:{"text-align":"left"}},"名称|代码"),t("th",{style:{"text-align":"right"}},"成本"),t("th",{style:{"text-align":"right"}},"数量"),t("th",{style:{"text-align":"right"},class:"cutUp"},"浮动盈亏"),t("th",{style:{"text-align":"right"},class:"cutUp"},"操作")],-1)),be=m(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"2px"}},null,-1)),xe={class:"tr-one"},we={class:"tr-two text-right"},Ve={class:"tr-two-number"},Ce={class:"tr-three",style:{"text-align":"right"}},Se={class:"tr-four",style:{"text-align":"right"}},Be={class:"text-right"},$e={key:1,class:"new-box"},Le={class:"tab-box"},Ie={key:0},Te=m(()=>t("tr",{class:"tr-list"},[t("th",{style:{"text-align":"left"}},"名称|代码"),t("th",{style:{"text-align":"right"}},"价格"),t("th",{style:{"text-align":"right"}},"数量|类型"),t("th",{style:{"text-align":"right"},class:"cutUp"},"时间"),t("th",null,"操作")],-1)),Ue=m(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"2px"}},null,-1)),Fe={class:"tr-one"},Ne={class:"tr-two",style:{"text-align":"right"}},Ae={class:"tr-two-number"},De={class:"tr-three",style:{"text-align":"right"}},Oe={class:"tr-four",style:{"text-align":"right"}},qe=["onClick"],Re={key:1},je=m(()=>t("tr",{class:"tr-list"},[t("th",{style:{"text-align":"left"}},"名称|代码"),t("th",{style:{"text-align":"right"}},"金额"),t("th",{style:{"text-align":"right"}},"数量|类型"),t("th",{style:{"text-align":"right"},class:"cutUp"},"时间")],-1)),Ee=m(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"2px"}},null,-1)),He={class:"tr-one"},Pe={class:"tr-two",style:{"text-align":"right"}},ze={class:"tr-two-number"},Me={class:"tr-three",style:{"text-align":"right"}},Ge={class:"tr-four",style:{"text-align":"right"}},Qe={key:2},Ye=m(()=>t("tr",{class:"tr-list"},[t("th",{style:{"text-align":"left"}},"名称|代码"),t("th",{style:{"text-align":"right"}},"价格"),t("th",{style:{"text-align":"right"}},"数量|类型"),t("th",{style:{"text-align":"right"},class:"cutUp"},"时间")],-1)),Je=m(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"2px"}},null,-1)),Ke={class:"tr-one"},We={class:"tr-two",style:{"text-align":"right"}},Xe={class:"tr-two-number"},Ze={class:"tr-three",style:{"text-align":"right"}},ts={class:"tr-four",style:{"text-align":"right"}},es={class:"flexBetween sheet-top"},ss=m(()=>t("div",{class:"sheet-sure"},[f("请选择您的合约"),t("span",null,"[新开合约]")],-1)),ls={class:"flexBetween type-list"},os={class:"list-select",src:It,alt:""},as={__name:"Sell",setup(L){const A=gt(),R=vt(),g=p(100),B=p(1),V=p(0),C=p(0),S=p(0),st=p(1);p(null);const I=p(""),T=p(!1);p(!1),p("");const h=Y({amount:0,limit:0,order_id:""}),U=p("0.000001");p("平安银行"),p("000001");const F=Y({buy:[],sell:[]});p(0);const $=p("market_price"),lt=[{title:"市价交易",key:"market_price"},{title:"限价委托",key:"limit_price"}],j=p([]);kt(()=>{R.query.order_id&&E(R.query.order_id)});const E=s=>{s&&H(s),o.state.market.stock_new_info.f107+"."+o.state.market.stock_new_info.f57!=U.value&&o.dispatch("market/getStockNewInfo",U.value),o.state.market.stock_new_info.f107<2&&o.dispatch("market/getBuySellFive",U.value).then(a=>{F.buy=a.buy,F.sell=a.sell}),at(),P(),O(0)},H=s=>{o.dispatch("trading/getOrderInfo",s).then(e=>{e.code&&(h.limit=e.number,h.order_id=e.id,ot(e.code))})},ot=s=>o.dispatch("market/getStockNewInfo",s),D=s=>{S.value=s,s==0||s==2?(o.commit("trading/clearTrustList"),O(s)):s==1&&z()},P=()=>{o.dispatch("trading/getActiveList")},at=async()=>{const s=await o.dispatch("market/getStockFenShi",U.value);j.value=nt(s)},nt=s=>s.map(a=>{const d=a.split(",");return{date:d[0],price:parseFloat(d[1]),limit:parseInt(d[2],10)}}),z=()=>{o.dispatch("trading/getSuccessList")},rt=s=>{o.dispatch("trading/cancelOrder",s).then(()=>{o.dispatch("snackbar/success",{active:!0,body:"取消成功！"}),O(0)})},it=(s,e)=>{A.push({path:s,query:{order_id:e}}),E(e)},ct=()=>{if(h.order_id==""){o.dispatch("snackbar/warning",{active:!0,body:"请选择订单！"});return}if($.value=="limit_price"&&I.value==""){o.dispatch("snackbar/warning",{active:!0,body:"限价委托价格不能为空！"});return}if(g.value>h.limit){o.dispatch("snackbar/warning",{active:!0,body:"交易数量超出拥有数量"});return}o.dispatch("trading/sell",{order_id:h.order_id,number:g.value,type:$.value,price:I.value}).then(()=>{o.dispatch("snackbar/success",{active:!0,body:"卖出成功"}),H(h.order_id),P(),z()})},M=s=>{if(s=="a"&&(g.value=g.value+100),s=="c"&&g.value>0){let e=g.value-100;e>0?g.value=e:g.value=0}},dt=(s,e,a,d)=>{A.push({path:s,query:{code:a,title:e,prefix:d}})},ut=s=>{A.push(s)},O=s=>{o.dispatch("trading/getTrustList",s)},N=(s,e)=>{if(h.limit<=0)return!1;let a=h.limit/s;if(a>=100){let d=_t(a);d>h.limit?g.value=d-100:g.value=d}else g.value=100;B.value=e},_t=s=>{const e=s%100;return e===0?s:s+(100-e)},pt=s=>{if(s<0)return"green";if(s===0||s==="")return"black";if(s>0)return"red"},mt=p("请选择合约"),G=p(0),ft=s=>{G.value=s,mt.value=o.state.contract.minList[s].contract_type_title+o.state.contract.minList[s].contract_limit_limit+"倍",h.amount=o.state.contract.minList[s].balance,h.limit=parseFloat(h.amount/w(o.state.market.stock_new_info.f43,o.state.market.stock_new_info.f59)).toFixed(2),h.order_id=o.state.contract.minList[s].order_id},ht=s=>(s=s.toString(),s.replace(/(\d{2})(\d{2})(\d{2})/,"$1:$2")),Q=s=>s>0?"+"+s:s;return(s,e)=>(i(),c("div",null,[u(Ft,null,{headerCenter:_(()=>[f("卖出")]),headerRight:_(()=>[Et]),_:1}),t("div",Ht,[Pt,u(r(Bt),{repeat:1},{default:_(()=>[zt]),_:1})]),t("div",Mt,[Gt,t("div",Qt,[t("p",null,[f(n(r(o).state.market.stock_new_info.f58),1),t("span",null,"("+n(r(yt)(r(o).state.market.stock_new_info.f57,r(o).state.market.stock_new_info.f107))+")",1)]),t("img",{src:Tt,alt:"",class:"img-search",onClick:e[0]||(e[0]=a=>ut("/Search"))})])]),t("div",Yt,[t("p",null,[f(" 最新 "),t("span",{class:b("text-"+pt(r(w)(r(o).state.market.stock_new_info.f169,r(o).state.market.stock_new_info.f59)))},n(r(w)(r(o).state.market.stock_new_info.f43,r(o).state.market.stock_new_info.f59))+" "+n(Q(r(w)(r(o).state.market.stock_new_info.f169,r(o).state.market.stock_new_info.f59)))+" "+n(Q(r(w)(r(o).state.market.stock_new_info.f170,r(o).state.market.stock_new_info.f59))+"%"),3)]),t("div",null,[t("img",{src:St,alt:"",onClick:e[1]||(e[1]=a=>dt("/ChanrtPage",r(o).state.market.stock_new_info.f58,r(o).state.market.stock_new_info.f57,r(o).state.market.stock_new_info.f107)),class:"img-right"}),Jt])]),t("div",Kt,[t("div",Wt,[Xt,st.value==1?(i(),c("div",Zt,[u(At,{label:"类型",items:lt,"item-title":"title","item-value":"key",modelValue:$.value,"onUpdate:modelValue":e[2]||(e[2]=a=>$.value=a),variant:"solo-filled","hide-details":"",class:"mt-2"},null,8,["modelValue"]),t("div",te,[t("p",null,[f(" 涨停"),t("span",ee,n(r(w)(r(o).state.market.stock_new_info.f51,r(o).state.market.stock_new_info.f59)),1)]),t("p",null,[f(" 跌停"),t("span",se,n(r(w)(r(o).state.market.stock_new_info.f52,r(o).state.market.stock_new_info.f59)),1)])]),t("div",le,[J(u(Z,{type:"string",modelValue:I.value,"onUpdate:modelValue":e[3]||(e[3]=a=>I.value=a),placeholder:"请输入数值",clearable:"",disabled:!1,density:"default",variant:"outlined","single-line":"","hide-details":"",label:"价格"},null,8,["modelValue"]),[[K,$.value=="limit_price"]]),u(Z,{type:"number",modelValue:g.value,"onUpdate:modelValue":e[6]||(e[6]=a=>g.value=a),placeholder:"请输入数值",clearable:"",disabled:!1,density:"default",variant:"outlined","single-line":"","hide-details":""},{append:_(()=>[u(X,{color:"black",onClick:e[4]||(e[4]=a=>M("c")),class:"down-num"},{default:_(()=>[f(" mdi-minus ")]),_:1}),u(X,{color:"black",onClick:e[5]||(e[5]=a=>M("a")),class:"up-num"},{default:_(()=>[f(" mdi-plus ")]),_:1})]),_:1},8,["modelValue"])]),t("div",oe,[t("p",{class:b(B.value==1?"redBg":""),onClick:e[7]||(e[7]=a=>N(4,1))}," 1/4 ",2),t("p",{class:b(B.value==2?"redBg":""),onClick:e[8]||(e[8]=a=>N(3,2))}," 1/3 ",2),t("p",{class:b(B.value==3?"redBg":""),onClick:e[9]||(e[9]=a=>N(2,3))}," 1/2 ",2),t("p",{class:b(B.value==4?"redBg":""),onClick:e[10]||(e[10]=a=>N(1,4))}," 全仓 ",2)]),t("div",ae,[t("p",null,[f(" 可卖股数"),t("span",ne,n(h.limit),1)])])])):x("",!0)]),t("div",re,[u(tt,{"show-arrows":!1,"hide-delimiters":"",modelValue:C.value,"onUpdate:modelValue":e[11]||(e[11]=a=>C.value=a),height:"auto"},{default:_(()=>[(i(),c(v,null,k(2,(a,d)=>u(et,{key:d},{default:_(()=>[d==0?(i(),c("div",ie,[t("div",null,[(i(!0),c(v,null,k(F.sell,(l,y)=>(i(),c("div",{class:"flexBetween records-list",key:y},[t("p",null,"卖"+n(y+1),1),t("p",ce,n(l.price),1),t("p",null,n(l.vol),1)]))),128)),de,(i(!0),c(v,null,k(F.buy,(l,y)=>(i(),c("div",{class:"flexBetween records-list",key:y},[t("p",null,"买"+n(y+1),1),t("p",ue,n(l.price),1),t("p",null,n(l.vol),1)]))),128))])])):x("",!0),d==1?(i(),c("div",_e,[pe,(i(!0),c(v,null,k(j.value,(l,y)=>(i(),c("div",{key:y,class:"flexBetween records-list pr-2"},[t("p",null,n(ht(l.date)),1),t("p",me,n(l.price),1),t("p",null,n(l.limit),1)]))),128))])):x("",!0)]),_:2},1024)),64))]),_:1},8,["modelValue"])])]),t("div",fe,[u(W,{class:"sure-btn",onClick:ct},{default:_(()=>[f("交易")]),_:1}),t("div",he,[t("p",{class:b(C.value==0?"roseColor":""),onClick:e[12]||(e[12]=a=>C.value=0)},"+档",2),t("p",{class:b(C.value==1?"roseColor":""),onClick:e[13]||(e[13]=a=>C.value=1)},"明细",2)])]),ge,t("div",ve,[t("p",{class:b(V.value==0?"active-tab":""),onClick:e[14]||(e[14]=a=>V.value=0)}," 持仓 ",2),t("p",{class:b(V.value==1?"active-tab":""),onClick:e[15]||(e[15]=a=>V.value=1)}," 订单 ",2)]),u(tt,{"show-arrows":!1,"hide-delimiters":"",modelValue:V.value,"onUpdate:modelValue":e[20]||(e[20]=a=>V.value=a),height:"auto"},{default:_(()=>[(i(),c(v,null,k(2,(a,d)=>u(et,{key:d},{default:_(()=>[d==0?(i(),c("div",ke,[t("table",null,[t("tbody",null,[ye,be,(i(!0),c(v,null,k(r(o).state.trading.active_list,l=>(i(),c("tr",{class:"tr-list",key:l.code},[t("td",xe,[t("p",null,n(l.title),1),t("span",null,n(l.code),1)]),t("td",we,[t("div",Ve,n(l.cost),1)]),t("td",Ce,[t("span",null,n(l.number_ret),1)]),t("td",Se,[t("p",null,n(r(bt)(l.price,l.sell,l.number_ret)),1)]),t("th",Be,[u(W,{variant:"outlined",color:"red",onClick:y=>it("/Sell",l.id),size:"x-small"},{default:_(()=>[f(" 卖出 ")]),_:2},1032,["onClick"])])]))),128))])])])):x("",!0),d==1?(i(),c("div",$e,[t("div",Le,[u(Dt,{modelValue:S.value,"onUpdate:modelValue":e[19]||(e[19]=l=>S.value=l),"bg-color":"white",color:"black","align-tabs":"left"},{default:_(()=>[u(q,{onClick:e[16]||(e[16]=l=>D(0))},{default:_(()=>[f("待成交")]),_:1}),u(q,{onClick:e[17]||(e[17]=l=>D(1))},{default:_(()=>[f("已成交")]),_:1}),u(q,{onClick:e[18]||(e[18]=l=>D(2))},{default:_(()=>[f("已撤单")]),_:1})]),_:1},8,["modelValue"])]),t("table",null,[S.value==0?(i(),c("tbody",Ie,[Te,Ue,(i(!0),c(v,null,k(r(o).state.trading.trust_list,l=>(i(),c("tr",{class:"tr-list",key:l.code},[t("td",Fe,[t("p",null,n(l.title),1),t("span",null,n(l.code),1)]),t("td",Ne,[t("div",Ae,n(l.buy_price),1)]),t("td",De,[t("span",null,n(l.number)+"/"+n(l.type_string),1)]),t("td",Oe,[t("p",null,n(l.date),1)]),t("th",{onClick:y=>rt(l.id)},"撤销",8,qe)]))),128))])):x("",!0),S.value==1?(i(),c("tbody",Re,[je,Ee,(i(!0),c(v,null,k(r(o).state.trading.success_list,l=>(i(),c("tr",{class:"tr-list",key:l.symbol_code},[t("td",He,[t("p",null,n(l.title),1),t("span",null,n(l.symbol_code),1)]),t("td",Pe,[t("div",ze,n(l.amount),1)]),t("td",Me,[t("span",null,n(l.number)+"/"+n(l.type_string),1)]),t("td",Ge,[t("p",null,n(l.date),1)])]))),128))])):x("",!0),S.value==2?(i(),c("tbody",Qe,[Ye,Je,(i(!0),c(v,null,k(r(o).state.trading.trust_list,l=>(i(),c("tr",{class:"tr-list",key:l.code},[t("td",Ke,[t("p",null,n(l.title),1),t("span",null,n(l.code),1)]),t("td",We,[t("div",Xe,n(l.buy_price),1)]),t("td",Ze,[t("span",null,n(l.number)+"/委托",1)]),t("td",ts,[t("p",null,n(l.date),1)])]))),128))])):x("",!0)])])):x("",!0)]),_:2},1024)),64))]),_:1},8,["modelValue"]),u(r(jt),{modelValue:T.value,"onUpdate:modelValue":e[22]||(e[22]=a=>T.value=a)},{default:_(()=>[u(Ot,{class:"pb-5"},{default:_(()=>[t("div",es,[ss,t("img",{src:Ut,alt:"",onClick:e[21]||(e[21]=a=>T.value=!1)})]),(i(!0),c(v,null,k(r(o).state.contract.minList,(a,d)=>(i(),xt(Rt,{class:"flexCenter",key:a.order_id,onClick:l=>{T.value=!1,ft(d)}},{default:_(()=>[t("div",ls,[u(qt,null,{default:_(()=>[t("h3",null,[f(n(a.contract_type_title+a.contract_limit_limit)+"倍- ",1),t("span",null,n(a.balance),1),f("元 ")]),t("p",null,"合约号:"+n(a.order_id),1)]),_:2},1024),J(t("img",os,null,512),[[K,d==G.value]])])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1},8,["modelValue"])]))}},Is=Nt(as,[["__scopeId","data-v-3cd0be37"]]);export{Is as default};
