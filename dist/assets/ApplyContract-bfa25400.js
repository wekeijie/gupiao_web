import{p as Y,cm as W,cn as z,y as j,an as O,co as J,e as G,c as C,r as g,I as K,ad as M,J as d,aw as q,cp as N,K as Q,L as X,a as F,o as R,a2 as r,N as V,a0 as B,P as p,Y as t,a7 as n,T as w,a4 as D,a5 as E,a1 as Z,S as c,aa as H,O as $,ac as tt,ae as et,Q as U,W as ot,X as st}from"./index-d121aecc.js";import{_ as at}from"./rightImg-2896a6bb.js";import{_ as lt}from"./close-d0614903.js";import{_ as nt}from"./select-578d2b77.js";import{P as it}from"./topWrap-0defae0a.js";import{_ as rt}from"./_plugin-vue_export-helper-c27b6911.js";import{V as ct}from"./VTextField-e5fd853b.js";import{a as ut,b as dt,V as pt}from"./VList-92c6bff4.js";import{V as vt}from"./VBottomSheet-a62eda59.js";import{V as _t}from"./VCheckbox-0af85d50.js";/* empty css                                                                */import"./index-2f6f6173.js";import"./VInput-3af2528f.js";import"./ssrBoot-02e43a75.js";import"./VDivider-ff941ff1.js";import"./VCheckboxBtn-4cb78fe5.js";import"./VSelectionControl-40a391ab.js";const b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAADIUlEQVRIS71WTWgTURD+5q1/FWpBUap3f04WEYxgtRXBQ+1JT4o/KE3SKhbag16yu293vfSiqEizW4uCoiB6EYt4qdCI2IKoePDv3tYKWq3VCtkdeZuk2CZNUkic07Jv3nwz38ybGUIJ0fVkg1gqDjJjtyBsYmCtukLAFwY+EHPKJzxwjPjbYqZoocOE7G3WSDggaizlTHjOPBSQSDhGNFVIPw+o6+K9mrqpycsBoY1Cx7PCPMFErwgYC+0C64l5G4jWzaoATID749vP7kuXun//CzgHSMrrq5mCARB2Zo35BL4LX1yzrOhwxv4cIdPsi0ALzjDoMAFa5h4Pi2C6RcrurzntWSAVyaqpycEcCJjfBySOOkb0ZTnU6XbfdgG+DWBLhko8J166T8qTM9mcZsxIy/OYEM3y/WzmF1p7euLfywHJ6Zw/79atWCkegnhP9l/SMmIds0C67TUR8DTMCeM9gpmIZXX+mA+ScJIbBbQj6n8A/84Fvf3TfJ1zPf21NTP+CAhbWJUI0k2OcToVUmdaXgqERgZ8RjriGKcL0mVY7gEiepQpMm61zfhAoYgVjQQeDnPGPGSZ8SaVzK3Q+E0YHuOWNGPHF6KrXKDQedu9BdDRTPS8lUzbcwAkQqDAj0jZMVIJIN12IwL0Ihu9pYCeAmgm4LM0YvXFkr+YiJTfpu2NA1DvbJBMyx0DUT0Dj20j1lJBIEXfE4D2gzGqUP8AWMbMN2wzfqqSQIbl3iSiEwCnybC9tKqO/wE0SsD6cqiTsncdNG1HGLXvj0jZMVGMgTnUGbY3SMDecophMV0irxgMy7WJSC+nvM+evbK8tn75aqU7Nf7n69WrnSq/BSWvvHU72SAgXlf9wSoAw/aeEbCrOi2IhiwzqnopoKapEJrKVXWbqgKrxphghmubsfbZMaE+5g8+At75SB9bqJPPr4Bw8HFwG0TFB18YVUVHudYiZVv+KM95WGo5EcSjYetn2lBoOQGzNzU53VV0OfmXjoTsa14i+AIDu8p6qItdt/K572/QODjExLsZvJkg1qjNQy2QAfNHYkoFgu+XWiD/AsuYBMsfX6RYAAAAAElFTkSuQmCC";const mt=Y({id:String,text:String,...W(z({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),ft=j()({name:"VTooltip",props:mt(),emits:{"update:modelValue":e=>!0},setup(e,P){let{slots:h}=P;const v=O(e,"modelValue"),{scopeId:f}=J(),_=G(),y=C(()=>e.id||`v-tooltip-${_}`),A=g(),m=C(()=>e.location.split(" ").length>1?e.location:e.location+" center"),S=C(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),u=C(()=>e.transition?e.transition:v.value?"scale-transition":"fade-transition"),l=C(()=>q({"aria-describedby":y.value},e.activatorProps));return K(()=>{const[T]=M.filterProps(e);return d(M,q({ref:A,class:["v-tooltip",e.class],style:e.style,id:y.value},T,{modelValue:v.value,"onUpdate:modelValue":x=>v.value=x,transition:u.value,absolute:!0,location:m.value,origin:S.value,persistent:!0,role:"tooltip",activatorProps:l.value,_disableGlobalStack:!0},f),{activator:h.activator,default:function(){var a;for(var x=arguments.length,k=new Array(x),i=0;i<x;i++)k[i]=arguments[i];return((a=h.default)==null?void 0:a.call(h,...k))??e.text}})}),N({},A)}}),o=e=>(ot("data-v-e2a3eca0"),e=e(),st(),e),gt=o(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"3px"}},null,-1)),ht={class:"flexBetween list-box"},bt=o(()=>t("h3",null,"钱包可用余额",-1)),xt=o(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"3px"}},null,-1)),Vt=o(()=>t("h3",null,"合约类型",-1)),yt={class:"pact-type"},At=o(()=>t("img",{src:at,alt:""},null,-1)),Ct=o(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"3px"}},null,-1)),Bt={class:"input-number"},wt=o(()=>t("div",{class:"flexBetween input-title-box"},[t("h2",null,"请输入保证金额度")],-1)),St=o(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"3px"}},null,-1)),kt=o(()=>t("div",{class:"limit-box mb-n8"},[t("h5",null,"申请额度")],-1)),It={class:"flexStart limit-list-box"},Pt=["onClick"],Tt=o(()=>t("span",null,null,-1)),Mt={class:"flexBetween sheet-top"},qt=o(()=>t("div",{class:"sheet-sure"},"选择合约类型",-1)),Dt={class:"flexBetween type-list"},Et={key:0,src:nt,alt:""},Ut={class:"prop-tips"},Lt=o(()=>t("h1",null,"详情",-1)),Yt={class:"prop-cont flexBetween"},Wt=o(()=>t("p",null,[c(" 总操盘资金 "),t("img",{src:b,alt:""})],-1)),zt={class:"prop-cont flexBetween"},jt=o(()=>t("p",null,"保证金/本金",-1)),Ot={class:"prop-cont flexBetween"},Jt=o(()=>t("p",null,"配资资金",-1)),Gt={class:"prop-cont flexBetween"},Kt=o(()=>t("p",null,[c(" 亏损预警线 "),t("img",{src:b,alt:""})],-1)),Nt={class:"prop-cont flexBetween"},Qt=o(()=>t("p",null,[c(" 亏损平仓线 "),t("img",{src:b,alt:""})],-1)),Xt={class:"prop-cont flexBetween"},Ft=o(()=>t("p",null,[c(" 利率 "),t("img",{src:b,alt:""})],-1)),Rt={class:"prop-cont flexBetween"},Zt=o(()=>t("p",null,"产生利息",-1)),Ht={class:"prop-cont flexBetween"},$t=o(()=>t("p",null,[c(" 资金使用时间 "),t("img",{src:b,alt:""})],-1)),te={class:"prop-cont flexBetween"},ee=o(()=>t("p",null,[c(" 可用利息券 "),t("img",{src:b,alt:""})],-1)),oe={class:"prop-cont flexBetween"},se=o(()=>t("p",{class:"flexStart"},[c(" 准备资金 "),t("img",{src:b,alt:""})],-1)),ae={class:"prop-lab"},le={class:"prop-btn flexCenter"},ne={__name:"ApplyContract",setup(e){const P=Q();X();const h=g(0),v=g(!1),f=g(!1),_=g({}),y=g(!0),A=i=>{r.state.contract.typeList[i]&&(_.value=r.state.contract.typeList[i],T(_.value.id)),v.value=!1},m=g({}),S=i=>{h.value=i,m.value=r.state.contract.limitList[i]},u=g(500),l=F({total:0,expand:0,loss_waring:0,loss_fail:0,rate:0});R(()=>{r.dispatch("user/userInfo"),r.dispatch("contract/getType").then(()=>{A(0)})});const T=i=>{r.dispatch("contract/getLimit",i).then(()=>{S(0)})},x=()=>{const i={amount:u.value,type_id:_.value.id,limit_id:m.value.id};r.dispatch("contract/create",i).then(()=>{r.dispatch("snackbar/success",{active:!0,body:"Success"}),f.value=!1,P.push("/Pact")})},k=()=>{if(f.value=!0,u.value>r.state.user.info.balance){r.dispatch("snackbar/warning",{active:!0,body:"Margem insuficiente, por favor, faça um depósito!"});return}console.log(m),l.expand=u.value*m.value.limit,l.total=l.expand+u.value,l.loss_waring=l.expand+u.value*.5,l.loss_fail=l.expand+u.value*.2,l.rate=l.expand*(m.value.rate/100),console.log(123),console.log(l),f.value=!0};return(i,a)=>(V(),B("div",null,[d(it,null,{headerCenter:p(()=>[c("申请合约")]),_:1}),gt,t("div",ht,[bt,t("h2",null,n("¥"+w(r).state.user.info.balance),1)]),xt,t("div",{class:"flexBetween list-box",onClick:a[0]||(a[0]=s=>v.value=!0)},[Vt,t("div",yt,[t("span",null,n(_.value.title+_.value.day+"天"),1),At])]),Ct,t("div",Bt,[wt,d(ct,{modelValue:u.value,"onUpdate:modelValue":a[1]||(a[1]=s=>u.value=s),variant:"underlined","hide-details":"auto",required:"",prefix:"¥",size:"25"},null,8,["modelValue"])]),St,kt,t("div",It,[(V(!0),B(D,null,E(w(r).state.contract.limitList,(s,I)=>(V(),B("div",{class:H(["limit-list",h.value==I?"activeBg":""]),key:s,onClick:L=>S(I)},[t("h4",null,[c(n(s.title)+" ",1),Tt]),t("p",null,n(s.limit*u.value),1)],10,Pt))),128))]),t("div",{class:"apply-btn",onClick:k},"立即申请"),d(w(vt),{modelValue:v.value,"onUpdate:modelValue":a[3]||(a[3]=s=>v.value=s)},{default:p(()=>[d(ut,null,{default:p(()=>[t("div",Mt,[qt,t("img",{src:lt,alt:"",onClick:a[2]||(a[2]=s=>v.value=!1)})]),(V(!0),B(D,null,E(w(r).state.contract.typeList,(s,I)=>(V(),$(pt,{class:"flexCenter",key:s.title,onClick:L=>A(I)},{default:p(()=>[t("div",Dt,[d(dt,null,{default:p(()=>[c(n(s.title+s.day+"天"),1)]),_:2},1024),s.id==_.value.id?(V(),B("img",Et)):tt("",!0)])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1},8,["modelValue"]),d(Z,{modelValue:f.value,"onUpdate:modelValue":a[7]||(a[7]=s=>f.value=s),persistent:"",class:"flexCenter"},{default:p(()=>[t("div",Ut,[Lt,t("div",Yt,[Wt,t("span",null,n(l.total),1)]),t("div",zt,[jt,t("span",null,n(u.value),1)]),t("div",Ot,[Jt,t("span",null,n(l.expand)+"/"+n(m.value.limit),1)]),t("div",Gt,[Kt,t("span",null,n(l.loss_waring),1)]),t("div",Nt,[Qt,t("span",null,n(l.loss_fail),1)]),t("div",Xt,[Ft,t("span",null,n(m.value.rate+"%"),1)]),t("div",Rt,[Zt,t("span",null,n(l.rate)+"元",1)]),t("div",Ht,[$t,t("span",null,n(_.value.day)+"天后自动续期",1)]),t("div",te,[ee,t("span",null,n(w(r).state.user.info.interest_amount)+"元",1)]),t("div",oe,[se,t("span",null,n(l.expand),1)]),t("div",ae,[d(_t,{modelValue:y.value,"onUpdate:modelValue":a[5]||(a[5]=s=>y.value=s),color:"#2979ff"},{label:p(()=>[t("p",null,[c(" 勾选即表示已阅读并同意《 "),d(ft,{location:"bottom"},{activator:p(({props:s})=>[t("span",{target:"_blank",onClick:a[4]||(a[4]=et(()=>{},["stop"]))}," 配资协议 ")]),_:1}),c(" 》 ")])]),_:1},8,["modelValue"])]),t("div",le,[d(U,{onClick:a[6]||(a[6]=s=>f.value=!1),color:"#fb5c39"},{default:p(()=>[c("取消")]),_:1}),d(U,{onClick:x,color:"#fb5c39"},{default:p(()=>[c("确认")]),_:1})])])]),_:1},8,["modelValue"])]))}},Ce=rt(ne,[["__scopeId","data-v-e2a3eca0"]]);export{Ce as default};
