import{M as y,z as _,ab as V,N as b,ao as k,O as a,A as m,P as I,x as l,C as r,I as s,D as C,F as f,Q as p,ag as i,ah as u,B,ae as T,G as N,H as P}from"./index-be71f5c9.js";import{_ as h,a as g}from"./eyeHide-4892524c.js";import{p as v}from"./vaildRule-8cc6bb42.js";import{P as R}from"./topWrap-ded32ebb.js";import{_ as D}from"./_plugin-vue_export-helper-c27b6911.js";import{V as S}from"./VForm-cbd358e5.js";import{V as F}from"./VDivider-499d8a8c.js";import{V as w}from"./VTextField-a3edec62.js";/* empty css                                                                */import"./VInput-15d97c9f.js";import"./index-ff89ca20.js";const c=n=>(N("data-v-c2adaefd"),n=n(),P(),n),q={class:"login-box"},z=c(()=>s("p",null,"当前取款密码",-1)),H={src:h},M={src:g},U=c(()=>s("p",null,"新取款密码",-1)),$={src:h},A={src:g},E={class:"login-box"},G=c(()=>s("p",{class:"forget-box"},null,-1)),L={__name:"RealTrading",setup(n){y();const e=_("password"),t=V({password:"",new_password:""}),x=async()=>{if(a.state.user.userInfo.is_pay_pwd){if(t.new_password.length<6||t.password.length<6){a.dispatch("snackbar/error",{active:!0,body:"取款密码不能小于6位数字"});return}}else if(t.password.length<6){a.dispatch("snackbar/error",{active:!0,body:"取款密码不能小于6位数字"});return}a.dispatch("user/changePayPassword",t).then(()=>{a.dispatch("snackbar/success",{active:!0,body:"修改成功!"}),a.dispatch("user/getInfo")})};return _(),b(()=>{k(),a.state.user.userInfo.user_name||a.dispatch("user/getInfo")}),(O,o)=>(m(),I("div",null,[l(R,null,{headerCenter:r(()=>[f("更改取款密码")]),_:1}),l(F,{thickness:3}),s("div",q,[l(S,{ref:"form"},{default:r(()=>[l(w,{variant:"underlined",modelValue:t.password,"onUpdate:modelValue":o[1]||(o[1]=d=>t.password=d),required:"",counter:12,label:"请输入当前账号取款密码",type:e.value,rules:p(v)},{prepend:r(()=>[z]),default:r(()=>[s("div",{class:"eye-show",onClick:o[0]||(o[0]=d=>e.value=="text"?e.value="password":e.value="text")},[i(s("img",H,null,512),[[u,e.value=="text"]]),i(s("img",M,null,512),[[u,e.value=="password"]])])]),_:1},8,["modelValue","type","rules"]),p(a).state.user.userInfo.is_pay_pwd?(m(),B(w,{key:0,variant:"underlined",modelValue:t.new_password,"onUpdate:modelValue":o[3]||(o[3]=d=>t.new_password=d),required:"",counter:12,label:"请输入新取款密码",type:e.value,rules:p(v)},{prepend:r(()=>[U]),default:r(()=>[s("div",{class:"eye-show",onClick:o[2]||(o[2]=d=>e.value=="text"?e.value="password":e.value="text")},[i(s("img",$,null,512),[[u,e.value=="text"]]),i(s("img",A,null,512),[[u,e.value=="password"]])])]),_:1},8,["modelValue","type","rules"])):T("",!0)]),_:1},512)]),s("div",E,[l(C,{color:"success",class:"mt-2",size:"x-large",block:"",onClick:x},{default:r(()=>[f(" 提交 ")]),_:1}),G])]))}},te=D(L,[["__scopeId","data-v-c2adaefd"]]);export{te as default};
