import{P as T}from"./topWrap-3013fb30.js";import{A as r,Q as B,R as q,S as c,dG as H,B as i,T as p,y as a,D as t,J as s,E as M,Y as L,G as o,Z as m,a1 as d,F as b,C as x}from"./index-d1d8e427.js";import{u as N}from"./index-529bcb59.js";import{V as E}from"./VSheet-ee3ef539.js";import{V as f}from"./VRow-89f303f1.js";import{V as l}from"./VCol-03200623.js";import{V as F}from"./VTextField-6f87966f.js";/* empty css                                                                */import"./_plugin-vue_export-helper-c27b6911.js";import"./_commonjsHelpers-de833af9.js";import"./index-b03892c7.js";import"./VInput-03ffe64e.js";const P={class:"bg-color ui-min-height px-3 pt-4"},R=s("div",{class:"text-body-1 mb-3 text-grey-darken-1"}," 请先成功付款后再“填写付款信息”确认提交 ",-1),S={class:"text-center"},U=["src"],z={key:1,class:"text-caption text-grey-darken-1"},A={class:"text-body-2"},D={class:"text-body-2"},G=s("div",{class:"text-body-1 mt-3"},"充值说明",-1),I=["innerHTML"],J=s("div",{class:"text-body-1 mt-5 text-grey-darken-1"},"填写付款信息",-1),W=["innerHTML"],oe={__name:"Weixin",setup(Q){const n=r(""),e=r({}),k=r(""),_=r("充值"),{toClipboard:v}=N(),y=B();q(async()=>{if(!y.query.code){c.dispatch("snackbar/warning",{active:!0,body:"充值渠道不存在，请联系在线客服"});return}e.value=await H(y.query.code),_.value=e.value.title});const g=()=>{if(n.value<e.value.min){c.dispatch("snackbar/warning",{active:!0,body:"金额不能低于最低金额"});return}if(e.value.id==""){maintenance();return}c.dispatch("topUp/subPut",{name:k.value,id:e.value.id,amount:n.value}).then(u=>{c.dispatch("snackbar/success",{active:!0,body:"提交成功，请等待审核"})})},V=async()=>{try{await v(e.value.app_id),c.dispatch("snackbar/success",{active:!0,body:"复制成功！"})}catch{c.dispatch("snackbar/warning",{active:!0,body:"操作错误！"})}},w=async()=>{try{await v(e.value.public_key),c.dispatch("snackbar/success",{active:!0,body:"复制成功！"})}catch{c.dispatch("snackbar/warning",{active:!0,body:"操作错误！"})}};return(u,h)=>(i(),p(L,null,[a(T,null,{headerCenter:t(()=>[o(m(_.value),1)]),_:1}),s("div",P,[R,a(E,{class:"px-2 py-5 rounded-lg"},{default:t(()=>[s("div",S,[e.value.qrcode?(i(),p("img",{key:0,src:e.value.qrcode,width:"120"},null,8,U)):d("",!0),e.value.qrcode?(i(),p("div",z," 截屏保存二维码到本地相册 ")):d("",!0),a(f,{class:"ma-0 pa-0"},{default:t(()=>[a(l,{cols:"2",class:"text-right"},{default:t(()=>[o("账号")]),_:1}),a(l,{cols:"10",class:"d-indent-flex"},{default:t(()=>[s("div",A,m(e.value.app_id),1),a(b,{color:"blue-accent-2",size:"x-small",class:"ml-1",onClick:V},{default:t(()=>[o("mdi-content-copy")]),_:1})]),_:1}),e.value.public_key?(i(),x(l,{key:0,cols:"2",class:"text-right"},{default:t(()=>[o("姓名")]),_:1})):d("",!0),e.value.public_key?(i(),x(l,{key:1,cols:"10",class:"d-indent-flex"},{default:t(()=>[s("div",D,m(e.value.public_key),1),a(b,{color:"blue-accent-2",size:"x-small",class:"ml-1",onClick:w},{default:t(()=>[o("mdi-content-copy")]),_:1})]),_:1})):d("",!0)]),_:1}),G]),s("div",{class:"px-2 mt-2 explain-html",innerHTML:e.value.explain},null,8,I)]),_:1}),J,a(f,{class:"ma-0 pa-0 bg-white rounded-lg pb-3 mt-3"},{default:t(()=>[a(l,{cols:"3",class:"px-0 pt-5 pl-3"},{default:t(()=>[o("转账金额")]),_:1}),a(l,{cols:"9",class:"pa-0 pr-3"},{default:t(()=>[a(F,{variant:"underlined",modelValue:n.value,"onUpdate:modelValue":h[0]||(h[0]=C=>n.value=C),class:"mt-3","hide-details":"",density:"compact",placeholder:"请输入最低转账金额100"},null,8,["modelValue"])]),_:1})]),_:1}),a(M,{block:"",color:"#5262EC",class:"mt-4 text-white",onClick:g},{default:t(()=>[o("确认提交")]),_:1}),s("div",{class:"mt-3 text-caption text-grey-darken-1 mt-3",innerHTML:e.value.tip},null,8,W)])],64))}};export{oe as default};
