import{M as Ct,$ as Bt,z as p,ac as Z,a0 as $t,N as St,O as s,A as r,P as c,x as u,C as _,I as t,Q as i,X as o,F as f,ad as y,ag as tt,ah as et,a2 as g,D as R,B as st,ae as w,ak as Lt,E as lt,az as Tt,S as k,U as b,ai as Ft,G as It,H as Ut}from"./index-cdd740e2.js";import{_ as Nt}from"./refresh-9fe172ae.js";import{_ as qt,M as At,a as Mt,b as Pt,c as Dt}from"./MarqueeText.common-dbf7f02e.js";import{_ as Ot}from"./rightImg-2896a6bb.js";import{_ as zt}from"./search-e322bae4.js";import{_ as Et}from"./close-d0614903.js";import{P as Ht}from"./topWrap-d278afd8.js";import{_ as Rt}from"./_plugin-vue_export-helper-c27b6911.js";import{V as at}from"./VSelect-f58ad7c0.js";import{V as ot}from"./VTextField-4e0795aa.js";import{V as nt,a as it}from"./VCarouselItem-cee5c86a.js";import{a as rt,V as jt,b as Gt}from"./VList-e3346c61.js";import{V as Kt,a as j}from"./VTabs-36e491e0.js";import{V as Qt}from"./VBottomSheet-e2af2561.js";import"./_commonjsHelpers-de833af9.js";/* empty css                                                                */import"./VInput-1e6b4f80.js";import"./index-68f6f917.js";import"./VVirtualScroll-5b7842db.js";import"./VCheckboxBtn-293f7a82.js";import"./VSelectionControl-b2d2be02.js";import"./VChip-75ee825f.js";import"./VWindowItem-499ebf05.js";import"./ssrBoot-aaf32462.js";import"./VDivider-2d23c121.js";const m=U=>(It("data-v-ba47ab39"),U=U(),Ut(),U),Xt={class:"hores-race-lamp flexStart"},Jt=m(()=>t("img",{src:Mt,alt:"",class:"refresh-data"},null,-1)),Wt=m(()=>t("span",{style:{color:"#f90"}}," 该平台可以直接扩大股票配资客户的交易资金，使股票配资客户获得充裕的资金，成本低，盈利100%属于用户。",-1)),Yt={class:"row-tab-box flexBetween"},Zt=m(()=>t("h2",null,"合约",-1)),te=m(()=>t("img",{src:Ot,alt:"",class:"img-right"},null,-1)),ee={class:"row-tab-box flexBetween"},se=m(()=>t("h2",null,"股票名称/代码",-1)),le={class:"flexEnd"},ae={class:"flexBetween new-title-box"},oe={key:1},ne=m(()=>t("img",{src:Pt,alt:"",class:"img-right"},null,-1)),ie={class:"flexBetween controls-box"},re={style:{},class:"controls-left"},ce=m(()=>t("div",{class:"flexBetween buy-sell-box"},[t("p",{class:"buy-box"},"买入")],-1)),de={key:0,class:"buy"},ue={class:"up-down-number flexBetween"},_e={class:"roseColor"},pe={class:"fallColor"},me={class:"input-box",style:{"margin-top":"15px"}},fe={class:"component-box flexBetween"},ve={class:"up-down-number flexBetween"},he={class:"roseColor"},ge={class:"fallColor"},ke={key:1,class:"sell py-10"},be={class:"controls-right"},ye={key:0,class:"new-box"},xe={class:"fallColor"},we=m(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"2px",margin:"5px 0"}},null,-1)),Ve={class:"pinkColor"},Ce={key:1,class:"new-box"},Be=m(()=>t("div",{class:"flexBetween records-list pr-2"},[t("p",null,"时间"),t("p",null,"价格"),t("p",null,"量")],-1)),$e={class:"pinkColor"},Se={class:"flexAroud"},Le={class:"flexCenter cut-detail"},Te=m(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"5px",margin:"10px 0"}},null,-1)),Fe={class:"table-box flexStart"},Ie={key:0,class:"new-box"},Ue=m(()=>t("tr",{class:"tr-list"},[t("th",{style:{"text-align":"left"}},"名称|市值"),t("th",{style:{"text-align":"right"}},"现价|成本"),t("th",{style:{"text-align":"right"}},"可用|持仓"),t("th",{style:{"text-align":"right"},class:"cutUp"},"浮动|盈亏"),t("th",{style:{"text-align":"right"},class:"cutUp"},"操作")],-1)),Ne=m(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"2px"}},null,-1)),qe={class:"tr-one"},Ae={class:"tr-two text-right"},Me={class:"tr-two-number"},Pe={class:"tr-three",style:{"text-align":"right"}},De={key:0},Oe={key:1},ze={class:"tr-four",style:{"text-align":"right"}},Ee={class:"text-right"},He={key:1,class:"new-box"},Re={class:"tab-box"},je={key:0},Ge=m(()=>t("tr",{class:"tr-list"},[t("th",{style:{"text-align":"left"}},"名称|代码"),t("th",{style:{"text-align":"right"}},"价格"),t("th",{style:{"text-align":"right"}},"数量|类型"),t("th",{style:{"text-align":"right"},class:"cutUp"},"时间"),t("th",null,"操作")],-1)),Ke=m(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"2px"}},null,-1)),Qe={class:"tr-one"},Xe={class:"tr-two",style:{"text-align":"right"}},Je={class:"tr-two-number"},We={class:"tr-three",style:{"text-align":"right"}},Ye={class:"tr-four",style:{"text-align":"right"}},Ze=["onClick"],ts={key:1},es=m(()=>t("tr",{class:"tr-list"},[t("th",{style:{"text-align":"left"}},"名称|代码"),t("th",{style:{"text-align":"right"}},"金额"),t("th",{style:{"text-align":"right"}},"数量|类型"),t("th",{style:{"text-align":"right"},class:"cutUp"},"时间")],-1)),ss=m(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"2px"}},null,-1)),ls={class:"tr-one"},as={class:"tr-two",style:{"text-align":"right"}},os={class:"tr-two-number"},ns={class:"tr-three",style:{"text-align":"right"}},is={class:"tr-four",style:{"text-align":"right"}},rs={key:2},cs=m(()=>t("tr",{class:"tr-list"},[t("th",{style:{"text-align":"left"}},"名称|代码"),t("th",{style:{"text-align":"right"}},"价格"),t("th",{style:{"text-align":"right"}},"数量|类型"),t("th",{style:{"text-align":"right"},class:"cutUp"},"时间")],-1)),ds=m(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"2px"}},null,-1)),us={class:"tr-one"},_s={class:"tr-two",style:{"text-align":"right"}},ps={class:"tr-two-number"},ms={class:"tr-three",style:{"text-align":"right"}},fs={class:"tr-four",style:{"text-align":"right"}},vs={class:"flexBetween sheet-top"},hs=m(()=>t("div",{class:"sheet-sure"},[f("请选择您的合约"),t("span",null,"[新开合约]")],-1)),gs={class:"flexBetween type-list"},ks={class:"list-select",src:Dt,alt:""},bs={__name:"Trading",setup(U){const G=Ct(),B=Bt(),v=p(0),L=p(1),V=p(0),$=p(0),S=p(0),M=p(0),T=p(null),P=p(""),F=p(!1);p(!1),p("");const h=Z({amount:0,limit:0,order_id:""}),C=p("0.000001"),D=p("平安银行"),ct=p("000001"),I=Z({buy:[],sell:[]}),N=p("market_price"),dt=[{title:"市价交易",key:"market_price"},{title:"限价委托",key:"limit_price"}],O=p([]),K=p(0);$t(v,(l,e)=>{let n=w(s.state.market.stock_new_info.f43,s.state.market.stock_new_info.f59)*l;K.value=n.toFixed(2)}),St(()=>{B.query.code&&(ct.value=B.query.code),B.query.prefix?C.value=B.query.prefix:C.value=s.state.trading.prefix,B.query.title?D.value=B.query.title:D.value=s.state.trading.title,_t(),s.getters.token?s.dispatch("contract/getMinList"):H.value="请登录选择合约",mt(),E(),q(0)});const ut=(l,e)=>((e-l)/l*100).toFixed(2),_t=()=>{s.state.market.stock_new_info.f107+"."+s.state.market.stock_new_info.f57!=C.value&&s.dispatch("market/getStockNewInfo",C.value),s.state.market.stock_new_info.f107<2&&s.dispatch("market/getBuySellFive",C.value).then(e=>{I.buy=e.buy,I.sell=e.sell})},z=l=>{S.value=l,l==0||l==2?(s.commit("trading/clearTrustList"),q(l)):l==1&&Q()},pt=()=>{console.log(T.value)},E=()=>{s.dispatch("trading/getActiveList")},mt=async()=>{const l=await s.dispatch("market/getStockFenShi",C.value);O.value=ft(l),O.value.reverse()},ft=l=>l.map(n=>{const d=n.split(",");return{date:d[0],price:parseFloat(d[1]),limit:parseInt(d[2],10)}}),Q=()=>{s.dispatch("trading/getSuccessList")},vt=l=>{s.dispatch("trading/cancelOrder",l).then(()=>{s.dispatch("snackbar/success",{active:!0,body:"取消成功！"}),q(0)})},ht=()=>{if(!T.value){s.dispatch("snackbar/warning",{active:!0,body:"请选择订单！"});return}s.dispatch("trading/sell",{key:T.value}).then(()=>{s.dispatch("snackbar/success",{active:!0,body:"Success"}),E(),Q()})},X=l=>{if(l=="a"&&(v.value=v.value+100),l=="c"&&v.value>0){let e=v.value-100;e>0?v.value=e:v.value=0}},gt=()=>{if(!s.getters.token){s.dispatch("snackbar/warning",{active:!0,body:"请登录！"});return}if(h.order_id==""){s.dispatch("snackbar/warning",{active:!0,body:"请选择合约！"});return}const l={symbol:C.value,number:v.value,contract:h.order_id,type:N.value,title:D.value,price:P.value};if(l.number<100&&l.number%100!==0){s.dispatch("snackbar/warning",{active:!0,body:"数量必须是100的倍数"});return}s.dispatch("trading/buy",l).then(e=>{s.dispatch("snackbar/success",{active:!0,body:"购买成功"}),s.dispatch("contract/getMinList").then(()=>{W(V.value)}),E(),q(0)})},kt=l=>{G.push(l)},q=l=>{s.dispatch("trading/getTrustList",l)},A=(l,e)=>{if(h.limit<=0)return!1;let n=Math.floor(h.limit/l);if(n>=100){let d=bt(n);d>h.limit?v.value=d-100:v.value=d}else v.value=100;L.value=e},bt=l=>{const e=l%100;return e===0?l:l+(100-e)},yt=l=>{if(l<0)return"green";if(l===0||l==="")return"black";if(l>0)return"red"},H=p("请选择合约"),J=p(0),W=l=>{J.value=l,H.value=s.state.contract.minList[l].contract_type_title+s.state.contract.minList[l].contract_limit_limit+"倍",h.amount=s.state.contract.minList[l].balance,h.limit=parseFloat(h.amount/w(s.state.market.stock_new_info.f43,s.state.market.stock_new_info.f59)).toFixed(2),h.order_id=s.state.contract.minList[l].order_id},xt=l=>(l=l.toString(),l.replace(/(\d{2})(\d{2})(\d{2})/,"$1:$2")),Y=l=>l>0?"+"+l:l,wt=(l,e,n,d)=>{G.push({path:l,query:{code:n,title:e,prefix:d}})},Vt=()=>{window.location.reload()};return(l,e)=>(r(),c("div",null,[u(Ht,null,{headerCenter:_(()=>[f("交易")]),headerRight:_(()=>[t("img",{src:Nt,alt:"",class:"refresh-data",onClick:Vt})]),_:1}),t("div",Xt,[Jt,u(i(At),{repeat:1},{default:_(()=>[Wt]),_:1})]),t("div",Yt,[Zt,t("div",{class:"flexEnd",onClick:e[0]||(e[0]=n=>F.value=!0)},[t("p",null,o(H.value),1),te])]),t("div",ee,[se,t("div",le,[t("p",null,[f(o(i(s).state.market.stock_new_info.f58),1),t("span",null,"("+o(i(Lt)(i(s).state.market.stock_new_info.f57,i(s).state.market.stock_new_info.f107))+")",1)]),t("img",{src:zt,alt:"",class:"img-search",onClick:e[1]||(e[1]=n=>kt("/Search"))})])]),t("div",ae,[t("p",null,[f(" 最新 "),i(s).state.market.stock_new_info.f169!="-"?(r(),c("span",{key:0,class:y("text-"+yt(i(w)(i(s).state.market.stock_new_info.f169,i(s).state.market.stock_new_info.f59)))},o(i(w)(i(s).state.market.stock_new_info.f43,i(s).state.market.stock_new_info.f59))+" "+o(Y(i(w)(i(s).state.market.stock_new_info.f169,i(s).state.market.stock_new_info.f59)))+" "+o(Y(i(w)(i(s).state.market.stock_new_info.f170,i(s).state.market.stock_new_info.f59))+"%"),3)):(r(),c("span",oe,o(i(s).state.market.stock_new_info.f43)+" "+o(i(s).state.market.stock_new_info.f169)+" "+o(i(s).state.market.stock_new_info.f170),1))]),t("div",null,[t("img",{src:qt,alt:"",onClick:e[2]||(e[2]=n=>wt("/ChanrtPage",i(s).state.market.stock_new_info.f58,i(s).state.market.stock_new_info.f57,i(s).state.market.stock_new_info.f107)),class:"img-right"}),ne])]),t("div",ie,[t("div",re,[ce,M.value==0?(r(),c("div",de,[u(at,{label:"类型",items:dt,"item-title":"title","item-value":"key",modelValue:N.value,"onUpdate:modelValue":e[3]||(e[3]=n=>N.value=n),variant:"solo-filled","hide-details":"",class:"mt-2"},null,8,["modelValue"]),t("div",ue,[t("p",null,[f(" 涨停"),t("span",_e,o(i(w)(i(s).state.market.stock_new_info.f51,i(s).state.market.stock_new_info.f59)),1)]),t("p",null,[f(" 跌停"),t("span",pe,o(i(w)(i(s).state.market.stock_new_info.f52,i(s).state.market.stock_new_info.f59)),1)])]),t("div",me,[tt(u(ot,{type:"string",modelValue:P.value,"onUpdate:modelValue":e[4]||(e[4]=n=>P.value=n),placeholder:"请输入数值",clearable:"",disabled:!1,density:"default",variant:"outlined","single-line":"","hide-details":"",label:"价格"},null,8,["modelValue"]),[[et,N.value=="limit_price"]]),u(ot,{type:"number",modelValue:v.value,"onUpdate:modelValue":e[7]||(e[7]=n=>v.value=n),placeholder:"请输入数值",clearable:"",disabled:!1,density:"default",variant:"outlined","single-line":"","hide-details":""},{append:_(()=>[u(lt,{color:"black",onClick:e[5]||(e[5]=n=>X("c")),class:"down-num"},{default:_(()=>[f(" mdi-minus ")]),_:1}),u(lt,{color:"black",onClick:e[6]||(e[6]=n=>X("a")),class:"up-num"},{default:_(()=>[f(" mdi-plus ")]),_:1})]),_:1},8,["modelValue"])]),t("div",fe,[t("p",{class:y(L.value==1?"redBg":""),onClick:e[8]||(e[8]=n=>A(4,1))}," 1/4 ",2),t("p",{class:y(L.value==2?"redBg":""),onClick:e[9]||(e[9]=n=>A(3,2))}," 1/3 ",2),t("p",{class:y(L.value==3?"redBg":""),onClick:e[10]||(e[10]=n=>A(2,3))}," 1/2 ",2),t("p",{class:y(L.value==4?"redBg":""),onClick:e[11]||(e[11]=n=>A(1,4))}," 全仓 ",2)]),t("div",ve,[t("p",null,[f(" 交易额"),t("span",he,o(K.value),1)]),t("p",null,[f(" 可买股数"),t("span",ge,o(h.limit),1)])])])):g("",!0),M.value==1?(r(),c("div",ke,[u(at,{label:"请选择股票",modelValue:T.value,"onUpdate:modelValue":[e[12]||(e[12]=n=>T.value=n),pt],items:i(s).state.trading.active_list,"item-title":"title","item-value":"id",variant:"underlined"},{item:_(({props:n,item:d})=>[u(rt,Tt(n,{subtitle:d.raw.number+"/"+d.raw.unrealized_profit}),null,16,["subtitle"])]),_:1},8,["modelValue","items"]),u(R,{block:"",class:"mt-4",color:"success",onClick:ht},{default:_(()=>[f("卖出")]),_:1})])):g("",!0)]),t("div",be,[u(nt,{"show-arrows":!1,"hide-delimiters":"",modelValue:$.value,"onUpdate:modelValue":e[13]||(e[13]=n=>$.value=n),height:"auto"},{default:_(()=>[(r(),c(k,null,b(2,(n,d)=>u(it,{key:d},{default:_(()=>[d==0?(r(),c("div",ye,[t("div",null,[(r(!0),c(k,null,b(I.sell,(a,x)=>(r(),c("div",{class:"flexBetween records-list",key:x},[t("p",null,"卖"+o(I.sell.length-x),1),t("p",xe,o(a.price),1),t("p",null,o(a.vol),1)]))),128)),we,(r(!0),c(k,null,b(I.buy,(a,x)=>(r(),c("div",{class:"flexBetween records-list",key:x},[t("p",null,"买"+o(x+1),1),t("p",Ve,o(a.price),1),t("p",null,o(a.vol),1)]))),128))])])):g("",!0),d==1?(r(),c("div",Ce,[Be,(r(!0),c(k,null,b(O.value,(a,x)=>(r(),c("div",{key:x,class:"flexBetween records-list pr-2"},[t("p",null,o(xt(a.date)),1),t("p",$e,o(a.price),1),t("p",null,o(a.limit),1)]))),128))])):g("",!0)]),_:2},1024)),64))]),_:1},8,["modelValue"])])]),t("div",Se,[M.value==0?(r(),st(R,{key:0,class:"sure-btn",onClick:gt},{default:_(()=>[f("交易")]),_:1})):g("",!0),t("div",Le,[t("p",{class:y($.value==0?"roseColor":""),onClick:e[14]||(e[14]=n=>$.value=0)},"+档",2),t("p",{class:y($.value==1?"roseColor":""),onClick:e[15]||(e[15]=n=>$.value=1)},"明细",2)])]),Te,t("div",Fe,[t("p",{class:y(V.value==0?"active-tab":""),onClick:e[16]||(e[16]=n=>V.value=0)}," 持仓 ",2),t("p",{class:y(V.value==1?"active-tab":""),onClick:e[17]||(e[17]=n=>V.value=1)}," 订单 ",2)]),u(nt,{"show-arrows":!1,"hide-delimiters":"",modelValue:V.value,"onUpdate:modelValue":e[22]||(e[22]=n=>V.value=n),height:"auto"},{default:_(()=>[(r(),c(k,null,b(2,(n,d)=>u(it,{key:d},{default:_(()=>[d==0?(r(),c("div",Ie,[t("table",null,[t("tbody",null,[Ue,Ne,(r(!0),c(k,null,b(i(s).state.trading.active_list,a=>(r(),c("tr",{class:"tr-list",key:a.code},[t("td",qe,[t("p",null,o(a.title),1),t("span",null,o((parseFloat(a.sell)*a.number).toFixed(2)),1)]),t("td",Ae,[t("div",Me,o(a.sell),1),t("span",null,o(a.price),1)]),t("td",Pe,[a.active?(r(),c("div",De,"0")):(r(),c("div",Oe,o(a.number),1)),t("span",null,o(a.number),1)]),t("td",ze,[t("div",null,o(i(Ft)(a.price,a.sell,a.number)),1),t("span",null,o(ut(a.price,a.sell))+" %",1)]),t("th",Ee,[u(R,{variant:"outlined",color:"red",to:"/Sell?order_id="+a.id,size:"x-small"},{default:_(()=>[f(" 卖出 ")]),_:2},1032,["to"])])]))),128))])])])):g("",!0),d==1?(r(),c("div",He,[t("div",Re,[u(Kt,{modelValue:S.value,"onUpdate:modelValue":e[21]||(e[21]=a=>S.value=a),"bg-color":"white",color:"black","align-tabs":"left"},{default:_(()=>[u(j,{onClick:e[18]||(e[18]=a=>z(0))},{default:_(()=>[f("待成交")]),_:1}),u(j,{onClick:e[19]||(e[19]=a=>z(1))},{default:_(()=>[f("已成交")]),_:1}),u(j,{onClick:e[20]||(e[20]=a=>z(2))},{default:_(()=>[f("已撤单")]),_:1})]),_:1},8,["modelValue"])]),t("table",null,[S.value==0?(r(),c("tbody",je,[Ge,Ke,(r(!0),c(k,null,b(i(s).state.trading.trust_list,a=>(r(),c("tr",{class:"tr-list",key:a.code},[t("td",Qe,[t("p",null,o(a.title),1),t("span",null,o(a.code),1)]),t("td",Xe,[t("div",Je,o(a.buy_price),1)]),t("td",We,[t("span",null,o(a.number)+"/委托",1)]),t("td",Ye,[t("p",null,o(a.date),1)]),t("th",{onClick:x=>vt(a.id)},"撤销",8,Ze)]))),128))])):g("",!0),S.value==1?(r(),c("tbody",ts,[es,ss,(r(!0),c(k,null,b(i(s).state.trading.success_list,a=>(r(),c("tr",{class:"tr-list",key:a.symbol_code},[t("td",ls,[t("p",null,o(a.title),1),t("span",null,o(a.symbol_code),1)]),t("td",as,[t("div",os,o(a.amount_f),1)]),t("td",ns,[t("span",null,o(a.number)+"/"+o(a.type_string),1)]),t("td",is,[t("p",null,o(a.date),1)])]))),128))])):g("",!0),S.value==2?(r(),c("tbody",rs,[cs,ds,(r(!0),c(k,null,b(i(s).state.trading.trust_list,a=>(r(),c("tr",{class:"tr-list",key:a.code},[t("td",us,[t("p",null,o(a.title),1),t("span",null,o(a.code),1)]),t("td",_s,[t("div",ps,o(a.buy_price),1)]),t("td",ms,[t("span",null,o(a.number)+"/委托",1)]),t("td",fs,[t("p",null,o(a.date),1)])]))),128))])):g("",!0)])])):g("",!0)]),_:2},1024)),64))]),_:1},8,["modelValue"]),u(i(Qt),{modelValue:F.value,"onUpdate:modelValue":e[24]||(e[24]=n=>F.value=n)},{default:_(()=>[u(jt,{class:"pb-5"},{default:_(()=>[t("div",vs,[hs,t("img",{src:Et,alt:"",onClick:e[23]||(e[23]=n=>F.value=!1)})]),(r(!0),c(k,null,b(i(s).state.contract.minList,(n,d)=>(r(),st(rt,{class:"flexCenter",key:n.order_id,onClick:a=>{F.value=!1,W(d)}},{default:_(()=>[t("div",gs,[u(Gt,null,{default:_(()=>[t("h3",null,[f(o(n.contract_type_title+n.contract_limit_limit)+"倍- ",1),t("span",null,o(n.balance),1),f("元 ")]),t("p",null,"合约号:"+o(n.order_id),1)]),_:2},1024),tt(t("img",ks,null,512),[[et,d==J.value]])])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1},8,["modelValue"])]))}},Gs=Rt(bs,[["__scopeId","data-v-ba47ab39"]]);export{Gs as default};
