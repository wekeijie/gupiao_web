import{P as E}from"./topWrap-906e52cc.js";import{K as D,L as H,r as k,o as N,by as $,a1 as _,N as s,a0 as l,J as v,P as m,Y as e,a8 as y,S as f,a3 as C,a4 as x,T as L,a5 as c,aa as V,W as P,X as T}from"./index-56b35d29.js";import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";import{V as M,a as U}from"./VCarouselItem-7b70a362.js";/* empty css                                                                */import"./VImg-00fba88b.js";import"./index-b53de289.js";import"./ssrBoot-a4d6e115.js";const n=u=>(P("data-v-69f2d185"),u=u(),T(),u),q={class:""},z=n(()=>e("div",{style:{"background-color":"rgb(245, 245, 245)",height:"5px"}},null,-1)),F={class:"head-bottom"},J={class:"table-box flexStart"},K={class:"coupon-box"},W={key:0,class:"new-box"},X={class:"flexBetween waite-box"},Y={class:"flexStart"},j=n(()=>e("span",null,"¥",-1)),A=["onClick"],G=n(()=>e("p",null,"使用范围：全平台",-1)),O=n(()=>e("span",null,"详情",-1)),Q=[G,O],Z={key:1,class:"new-box have-used"},ee={class:"flexBetween waite-box"},oe={class:"flexStart"},te=n(()=>e("span",null,"¥",-1)),se=["onClick"],le=n(()=>e("p",null,"使用范围：全平台",-1)),ne=n(()=>e("span",null,"详情",-1)),ae=[le,ne],de={__name:"CouponList",setup(u){const S=D();H();const a=k(0),r=k(1);N(()=>{p(),window.addEventListener("scroll",g)}),$(()=>{window.removeEventListener("scroll",g)});const g=()=>{let d=document.documentElement.scrollHeight,t=document.documentElement.scrollTop,i=document.documentElement.clientHeight;d-t<=i&&B()},B=()=>{r.value=r.value+1,p()},w=d=>{a.value=d,r.value=1,_.dispatch("userCoupon/clearList"),p()},p=()=>{_.dispatch("userCoupon/getList",{status:a.value,page:r.value})},b=(d,t)=>{S.push({path:d,query:{order_id:t}})};return(d,t)=>(s(),l("div",q,[v(E,null,{headerCenter:m(()=>[f("利息券")]),_:1}),z,e("div",F,[e("div",J,[e("p",{class:y(a.value==0?"active-tab":""),onClick:t[0]||(t[0]=i=>w(0))}," 待使用 ",2),e("p",{class:y(a.value==1?"active-tab":""),onClick:t[1]||(t[1]=i=>w(1))}," 已使用 ",2)])]),e("div",K,[v(M,{"show-arrows":!1,"hide-delimiters":"",modelValue:a.value,"onUpdate:modelValue":t[2]||(t[2]=i=>a.value=i),height:"auto"},{default:m(()=>[(s(),l(C,null,x(2,(i,h)=>v(U,{key:h},{default:m(()=>[h==0?(s(),l("div",W,[(s(!0),l(C,null,x(L(_).state.userCoupon.list,o=>(s(),l("div",{class:"coupon-list",key:o.id},[e("div",X,[e("h2",Y,[j,f(" "+c(o.amount),1)]),e("div",null,[e("p",null,"ID:"+c(o.order_id),1),e("p",null,"余额 ¥ "+c(o.balance),1)])]),e("div",{class:"flexBetween coupon-detail",onClick:I=>b("/CouponDetail",o.order_id)},Q,8,A)]))),128))])):V("",!0),h==1?(s(),l("div",Z,[(s(!0),l(C,null,x(L(_).state.userCoupon.list,o=>(s(),l("div",{class:"coupon-list",key:o.id},[e("div",ee,[e("h2",oe,[te,f(" "+c(o.amount),1)]),e("div",null,[e("p",null,"ID:"+c(o.order_id),1),e("p",null,"余额 ¥ "+c(o.balance),1)])]),e("div",{class:"flexBetween coupon-detail",onClick:I=>b("/CouponDetail",o.order_id)},ae,8,se)]))),128))])):V("",!0)]),_:2},1024)),64))]),_:1},8,["modelValue"])])]))}},me=R(de,[["__scopeId","data-v-69f2d185"]]);export{me as default};
