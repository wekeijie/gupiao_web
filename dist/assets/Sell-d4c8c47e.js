import{L as mt,a0 as ft,z as p,ac as Q,O as ht,P as s,A as i,Q as d,x as u,C as _,I as t,R as r,F as f,Y as a,ad as y,ah as Y,ai as J,af as x,D as K,al as vt,ae as w,E as W,T as g,U as k,aj as gt,B as kt,G as yt,H as bt}from"./index-33cbb183.js";import{_ as xt}from"./refresh-9fe172ae.js";import{_ as wt,M as Vt,a as Ct,b as Bt,c as St}from"./MarqueeText.common-3a7190c7.js";import{_ as $t}from"./search-e322bae4.js";import{_ as Lt}from"./close-d0614903.js";import{P as It}from"./topWrap-0162c796.js";import{_ as Tt}from"./_plugin-vue_export-helper-c27b6911.js";import{V as Ut}from"./VSelect-87d95462.js";import{V as X}from"./VTextField-cd37fdba.js";import{V as Z,a as tt}from"./VCarouselItem-246ba46e.js";import{V as Ft,a as D}from"./VTabs-f916cc74.js";import{a as Nt,b as At,V as Ot}from"./VList-a935dab0.js";import{V as Dt}from"./VBottomSheet-d739d974.js";import"./_commonjsHelpers-de833af9.js";/* empty css                                                                */import"./VInput-9eb840a5.js";import"./index-143501a1.js";import"./VVirtualScroll-9f1a19eb.js";import"./VCheckboxBtn-099f7c23.js";import"./VSelectionControl-89a96a59.js";import"./VChip-632d2976.js";import"./VWindowItem-dec2c3ca.js";import"./ssrBoot-54954976.js";import"./VDivider-56075128.js";const m=L=>(yt("data-v-b21a995f"),L=L(),bt(),L),Rt=m(()=>t("img",{src:xt,alt:"",class:"refresh-data"},null,-1)),jt={class:"hores-race-lamp flexStart"},qt=m(()=>t("img",{src:Ct,alt:"",class:"refresh-data"},null,-1)),Et=m(()=>t("span",{style:{color:"#f90"}}," 该平台可以直接扩大股票配资客户的交易资金，使股票配资客户获得充裕的资金，成本低，盈利100%属于用户。",-1)),Ht={class:"row-tab-box flexBetween"},Mt=m(()=>t("h2",null,"股票名称/代码",-1)),Pt={class:"flexEnd"},zt={class:"flexBetween new-title-box"},Gt=m(()=>t("img",{src:Bt,alt:"",class:"img-right"},null,-1)),Qt={class:"flexBetween controls-box"},Yt={style:{},class:"controls-left"},Jt=m(()=>t("div",{class:"flexBetween buy-sell-box"},[t("p",{class:"buy-box"},"卖出")],-1)),Kt={key:0,class:"buy"},Wt={class:"up-down-number flexBetween"},Xt={class:"roseColor"},Zt={class:"fallColor"},te={class:"input-box",style:{"margin-top":"15px"}},ee={class:"component-box flexBetween"},se={class:"up-down-number flexBetween"},le={class:"roseColor"},oe={class:"fallColor"},ae={class:"controls-right"},ne={key:0,class:"new-box"},re={class:"fallColor"},ie=m(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"2px",margin:"5px 0"}},null,-1)),de={class:"pinkColor"},ce={key:1,class:"new-box"},ue=m(()=>t("div",{class:"flexBetween records-list pr-2"},[t("p",null,"时间"),t("p",null,"价格"),t("p",null,"量")],-1)),_e={class:"pinkColor"},pe={class:"flexAroud"},me={class:"flexCenter cut-detail"},fe=m(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"5px",margin:"10px 0"}},null,-1)),he={class:"table-box flexStart"},ve={key:0,class:"new-box"},ge=m(()=>t("tr",{class:"tr-list"},[t("th",{style:{"text-align":"left"}},"名称|代码"),t("th",{style:{"text-align":"right"}},"成本"),t("th",{style:{"text-align":"right"}},"数量"),t("th",{style:{"text-align":"right"},class:"cutUp"},"浮动盈亏"),t("th",{style:{"text-align":"right"},class:"cutUp"},"操作")],-1)),ke=m(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"2px"}},null,-1)),ye={class:"tr-one"},be={class:"tr-two text-right"},xe={class:"tr-two-number"},we={class:"tr-three",style:{"text-align":"right"}},Ve={class:"tr-four",style:{"text-align":"right"}},Ce={class:"text-right"},Be={key:1,class:"new-box"},Se={class:"tab-box"},$e={key:0},Le=m(()=>t("tr",{class:"tr-list"},[t("th",{style:{"text-align":"left"}},"名称|代码"),t("th",{style:{"text-align":"right"}},"价格"),t("th",{style:{"text-align":"right"}},"数量|类型"),t("th",{style:{"text-align":"right"},class:"cutUp"},"时间"),t("th",null,"操作")],-1)),Ie=m(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"2px"}},null,-1)),Te={class:"tr-one"},Ue={class:"tr-two",style:{"text-align":"right"}},Fe={class:"tr-two-number"},Ne={class:"tr-three",style:{"text-align":"right"}},Ae={class:"tr-four",style:{"text-align":"right"}},Oe=["onClick"],De={key:1},Re=m(()=>t("tr",{class:"tr-list"},[t("th",{style:{"text-align":"left"}},"名称|代码"),t("th",{style:{"text-align":"right"}},"金额"),t("th",{style:{"text-align":"right"}},"数量|类型"),t("th",{style:{"text-align":"right"},class:"cutUp"},"时间")],-1)),je=m(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"2px"}},null,-1)),qe={class:"tr-one"},Ee={class:"tr-two",style:{"text-align":"right"}},He={class:"tr-two-number"},Me={class:"tr-three",style:{"text-align":"right"}},Pe={class:"tr-four",style:{"text-align":"right"}},ze={key:2},Ge=m(()=>t("tr",{class:"tr-list"},[t("th",{style:{"text-align":"left"}},"名称|代码"),t("th",{style:{"text-align":"right"}},"价格"),t("th",{style:{"text-align":"right"}},"数量|类型"),t("th",{style:{"text-align":"right"},class:"cutUp"},"时间")],-1)),Qe=m(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"2px"}},null,-1)),Ye={class:"tr-one"},Je={class:"tr-two",style:{"text-align":"right"}},Ke={class:"tr-two-number"},We={class:"tr-three",style:{"text-align":"right"}},Xe={class:"tr-four",style:{"text-align":"right"}},Ze={class:"flexBetween sheet-top"},ts=m(()=>t("div",{class:"sheet-sure"},[f("请选择您的合约"),t("span",null,"[新开合约]")],-1)),es={class:"flexBetween type-list"},ss={class:"list-select",src:St,alt:""},ls={__name:"Sell",setup(L){const R=mt(),j=ft(),v=p(100),S=p(1),V=p(0),C=p(0),B=p(0),et=p(1);p(null);const I=p(""),T=p(!1);p(!1),p("");const h=Q({amount:0,limit:0,order_id:""}),U=p("0.000001");p("平安银行"),p("000001");const F=Q({buy:[],sell:[]}),$=p("market_price"),st=[{title:"市价交易",key:"market_price"},{title:"限价委托",key:"limit_price"}],q=p([]);ht(()=>{j.query.order_id&&s.dispatch("trading/getOrderInfo",j.query.order_id).then(e=>{e.code&&(h.limit=e.number,h.order_id=e.id,lt(e.code))}),s.state.market.stock_new_info.f107+"."+s.state.market.stock_new_info.f57!=U.value&&s.dispatch("market/getStockNewInfo",U.value),s.state.market.stock_new_info.f107<2&&s.dispatch("market/getBuySellFive",U.value).then(e=>{F.buy=e.buy,F.sell=e.sell}),s.getters.token?s.dispatch("contract/getMinList"):P.value="请登录选择合约",ot(),E(),O(0)});const lt=l=>{s.dispatch("market/getStockNewInfo",l)},A=l=>{B.value=l,l==0||l==2?(s.commit("trading/clearTrustList"),O(l)):l==1&&H()},E=()=>{s.dispatch("trading/getActiveList")},ot=async()=>{const l=await s.dispatch("market/getStockFenShi",U.value);q.value=at(l)},at=l=>l.map(n=>{const c=n.split(",");return{date:c[0],price:parseFloat(c[1]),limit:parseInt(c[2],10)}}),H=()=>{s.dispatch("trading/getSuccessList")},nt=l=>{s.dispatch("trading/cancelOrder",l).then(()=>{s.dispatch("snackbar/success",{active:!0,body:"取消成功！"}),O(0)})},rt=()=>{if(h.order_id==""){s.dispatch("snackbar/warning",{active:!0,body:"请选择订单！"});return}if($.value=="limit_price"&&I.value==""){s.dispatch("snackbar/warning",{active:!0,body:"限价委托价格不能为空！"});return}if(v.value>h.limit){s.dispatch("snackbar/warning",{active:!0,body:"交易数量超出拥有数量"});return}s.dispatch("trading/sell",{order_id:h.order_id,number:v.value,type:$.value,price:I.value}).then(()=>{s.dispatch("snackbar/success",{active:!0,body:"卖出成功"}),E(),H()})},M=l=>{if(l=="a"&&(v.value=v.value+100),l=="c"&&v.value>0){let e=v.value-100;e>0?v.value=e:v.value=0}},it=(l,e,n,c)=>{R.push({path:l,query:{code:n,title:e,prefix:c}})},dt=l=>{R.push(l)},O=l=>{s.dispatch("trading/getTrustList",l)},N=(l,e)=>{if(h.limit<=0)return!1;let n=h.limit/l;if(n>=100){let c=ct(n);c>h.limit?v.value=c-100:v.value=c}else v.value=100;S.value=e},ct=l=>{const e=l%100;return e===0?l:l+(100-e)},ut=l=>{if(l<0)return"green";if(l===0||l==="")return"black";if(l>0)return"red"},P=p("请选择合约"),z=p(0),_t=l=>{z.value=l,P.value=s.state.contract.minList[l].contract_type_title+s.state.contract.minList[l].contract_limit_limit+"倍",h.amount=s.state.contract.minList[l].balance,h.limit=parseFloat(h.amount/w(s.state.market.stock_new_info.f43,s.state.market.stock_new_info.f59)).toFixed(2),h.order_id=s.state.contract.minList[l].order_id},pt=l=>(l=l.toString(),l.replace(/(\d{2})(\d{2})(\d{2})/,"$1:$2")),G=l=>l>0?"+"+l:l;return(l,e)=>(i(),d("div",null,[u(It,null,{headerCenter:_(()=>[f("卖出")]),headerRight:_(()=>[Rt]),_:1}),t("div",jt,[qt,u(r(Vt),{repeat:1},{default:_(()=>[Et]),_:1})]),t("div",Ht,[Mt,t("div",Pt,[t("p",null,[f(a(r(s).state.market.stock_new_info.f58),1),t("span",null,"("+a(r(vt)(r(s).state.market.stock_new_info.f57,r(s).state.market.stock_new_info.f107))+")",1)]),t("img",{src:$t,alt:"",class:"img-search",onClick:e[0]||(e[0]=n=>dt("/Search"))})])]),t("div",zt,[t("p",null,[f(" 最新 "),t("span",{class:y("text-"+ut(r(w)(r(s).state.market.stock_new_info.f169,r(s).state.market.stock_new_info.f59)))},a(r(w)(r(s).state.market.stock_new_info.f43,r(s).state.market.stock_new_info.f59))+" "+a(G(r(w)(r(s).state.market.stock_new_info.f169,r(s).state.market.stock_new_info.f59)))+" "+a(G(r(w)(r(s).state.market.stock_new_info.f170,r(s).state.market.stock_new_info.f59))+"%"),3)]),t("div",null,[t("img",{src:wt,alt:"",onClick:e[1]||(e[1]=n=>it("/ChanrtPage",r(s).state.market.stock_new_info.f58,r(s).state.market.stock_new_info.f57,r(s).state.market.stock_new_info.f107)),class:"img-right"}),Gt])]),t("div",Qt,[t("div",Yt,[Jt,et.value==1?(i(),d("div",Kt,[u(Ut,{label:"类型",items:st,"item-title":"title","item-value":"key",modelValue:$.value,"onUpdate:modelValue":e[2]||(e[2]=n=>$.value=n),variant:"solo-filled","hide-details":"",class:"mt-2"},null,8,["modelValue"]),t("div",Wt,[t("p",null,[f(" 涨停"),t("span",Xt,a(r(w)(r(s).state.market.stock_new_info.f51,r(s).state.market.stock_new_info.f59)),1)]),t("p",null,[f(" 跌停"),t("span",Zt,a(r(w)(r(s).state.market.stock_new_info.f52,r(s).state.market.stock_new_info.f59)),1)])]),t("div",te,[Y(u(X,{type:"string",modelValue:I.value,"onUpdate:modelValue":e[3]||(e[3]=n=>I.value=n),placeholder:"请输入数值",clearable:"",disabled:!1,density:"default",variant:"outlined","single-line":"","hide-details":"",label:"价格"},null,8,["modelValue"]),[[J,$.value=="limit_price"]]),u(X,{type:"number",modelValue:v.value,"onUpdate:modelValue":e[6]||(e[6]=n=>v.value=n),placeholder:"请输入数值",clearable:"",disabled:!1,density:"default",variant:"outlined","single-line":"","hide-details":""},{append:_(()=>[u(W,{color:"black",onClick:e[4]||(e[4]=n=>M("c")),class:"down-num"},{default:_(()=>[f(" mdi-minus ")]),_:1}),u(W,{color:"black",onClick:e[5]||(e[5]=n=>M("a")),class:"up-num"},{default:_(()=>[f(" mdi-plus ")]),_:1})]),_:1},8,["modelValue"])]),t("div",ee,[t("p",{class:y(S.value==1?"redBg":""),onClick:e[7]||(e[7]=n=>N(4,1))}," 1/4 ",2),t("p",{class:y(S.value==2?"redBg":""),onClick:e[8]||(e[8]=n=>N(3,2))}," 1/3 ",2),t("p",{class:y(S.value==3?"redBg":""),onClick:e[9]||(e[9]=n=>N(2,3))}," 1/2 ",2),t("p",{class:y(S.value==4?"redBg":""),onClick:e[10]||(e[10]=n=>N(1,4))}," 全仓 ",2)]),t("div",se,[t("p",null,[f(" 交易额"),t("span",le,a(h.amount),1)]),t("p",null,[f(" 可卖股数"),t("span",oe,a(h.limit),1)])])])):x("",!0)]),t("div",ae,[u(Z,{"show-arrows":!1,"hide-delimiters":"",modelValue:C.value,"onUpdate:modelValue":e[11]||(e[11]=n=>C.value=n),height:"auto"},{default:_(()=>[(i(),d(g,null,k(2,(n,c)=>u(tt,{key:c},{default:_(()=>[c==0?(i(),d("div",ne,[t("div",null,[(i(!0),d(g,null,k(F.sell,(o,b)=>(i(),d("div",{class:"flexBetween records-list",key:b},[t("p",null,"卖"+a(b+1),1),t("p",re,a(o.price),1),t("p",null,a(o.vol),1)]))),128)),ie,(i(!0),d(g,null,k(F.buy,(o,b)=>(i(),d("div",{class:"flexBetween records-list",key:b},[t("p",null,"买"+a(b+1),1),t("p",de,a(o.price),1),t("p",null,a(o.vol),1)]))),128))])])):x("",!0),c==1?(i(),d("div",ce,[ue,(i(!0),d(g,null,k(q.value,(o,b)=>(i(),d("div",{key:b,class:"flexBetween records-list pr-2"},[t("p",null,a(pt(o.date)),1),t("p",_e,a(o.price),1),t("p",null,a(o.limit),1)]))),128))])):x("",!0)]),_:2},1024)),64))]),_:1},8,["modelValue"])])]),t("div",pe,[u(K,{class:"sure-btn",onClick:rt},{default:_(()=>[f("交易")]),_:1}),t("div",me,[t("p",{class:y(C.value==0?"roseColor":""),onClick:e[12]||(e[12]=n=>C.value=0)},"+档",2),t("p",{class:y(C.value==1?"roseColor":""),onClick:e[13]||(e[13]=n=>C.value=1)},"明细",2)])]),fe,t("div",he,[t("p",{class:y(V.value==0?"active-tab":""),onClick:e[14]||(e[14]=n=>V.value=0)}," 持仓 ",2),t("p",{class:y(V.value==1?"active-tab":""),onClick:e[15]||(e[15]=n=>V.value=1)}," 订单 ",2)]),u(Z,{"show-arrows":!1,"hide-delimiters":"",modelValue:V.value,"onUpdate:modelValue":e[20]||(e[20]=n=>V.value=n),height:"auto"},{default:_(()=>[(i(),d(g,null,k(2,(n,c)=>u(tt,{key:c},{default:_(()=>[c==0?(i(),d("div",ve,[t("table",null,[t("tbody",null,[ge,ke,(i(!0),d(g,null,k(r(s).state.trading.active_list,o=>(i(),d("tr",{class:"tr-list",key:o.code},[t("td",ye,[t("p",null,a(o.title),1),t("span",null,a(o.code),1)]),t("td",be,[t("div",xe,a(o.cost),1)]),t("td",we,[t("span",null,a(o.number_ret),1)]),t("td",Ve,[t("p",null,a(r(gt)(o.price,o.sell,o.number_ret)),1)]),t("th",Ce,[u(K,{variant:"outlined",color:"red",to:"/Sell?order_id="+o.id,size:"x-small"},{default:_(()=>[f(" 卖出 ")]),_:2},1032,["to"])])]))),128))])])])):x("",!0),c==1?(i(),d("div",Be,[t("div",Se,[u(Ft,{modelValue:B.value,"onUpdate:modelValue":e[19]||(e[19]=o=>B.value=o),"bg-color":"white",color:"black","align-tabs":"left"},{default:_(()=>[u(D,{onClick:e[16]||(e[16]=o=>A(0))},{default:_(()=>[f("待成交")]),_:1}),u(D,{onClick:e[17]||(e[17]=o=>A(1))},{default:_(()=>[f("已成交")]),_:1}),u(D,{onClick:e[18]||(e[18]=o=>A(2))},{default:_(()=>[f("已撤单")]),_:1})]),_:1},8,["modelValue"])]),t("table",null,[B.value==0?(i(),d("tbody",$e,[Le,Ie,(i(!0),d(g,null,k(r(s).state.trading.trust_list,o=>(i(),d("tr",{class:"tr-list",key:o.code},[t("td",Te,[t("p",null,a(o.title),1),t("span",null,a(o.code),1)]),t("td",Ue,[t("div",Fe,a(o.buy_price),1)]),t("td",Ne,[t("span",null,a(o.number)+"/委托",1)]),t("td",Ae,[t("p",null,a(o.date),1)]),t("th",{onClick:b=>nt(o.id)},"撤销",8,Oe)]))),128))])):x("",!0),B.value==1?(i(),d("tbody",De,[Re,je,(i(!0),d(g,null,k(r(s).state.trading.success_list,o=>(i(),d("tr",{class:"tr-list",key:o.symbol_code},[t("td",qe,[t("p",null,a(o.title),1),t("span",null,a(o.symbol_code),1)]),t("td",Ee,[t("div",He,a(o.amount),1)]),t("td",Me,[t("span",null,a(o.number)+"/"+a(o.type_string),1)]),t("td",Pe,[t("p",null,a(o.date),1)])]))),128))])):x("",!0),B.value==2?(i(),d("tbody",ze,[Ge,Qe,(i(!0),d(g,null,k(r(s).state.trading.trust_list,o=>(i(),d("tr",{class:"tr-list",key:o.code},[t("td",Ye,[t("p",null,a(o.title),1),t("span",null,a(o.code),1)]),t("td",Je,[t("div",Ke,a(o.buy_price),1)]),t("td",We,[t("span",null,a(o.number)+"/委托",1)]),t("td",Xe,[t("p",null,a(o.date),1)])]))),128))])):x("",!0)])])):x("",!0)]),_:2},1024)),64))]),_:1},8,["modelValue"]),u(r(Dt),{modelValue:T.value,"onUpdate:modelValue":e[22]||(e[22]=n=>T.value=n)},{default:_(()=>[u(Nt,{class:"pb-5"},{default:_(()=>[t("div",Ze,[ts,t("img",{src:Lt,alt:"",onClick:e[21]||(e[21]=n=>T.value=!1)})]),(i(!0),d(g,null,k(r(s).state.contract.minList,(n,c)=>(i(),kt(Ot,{class:"flexCenter",key:n.order_id,onClick:o=>{T.value=!1,_t(c)}},{default:_(()=>[t("div",es,[u(At,null,{default:_(()=>[t("h3",null,[f(a(n.contract_type_title+n.contract_limit_limit)+"倍- ",1),t("span",null,a(n.balance),1),f("元 ")]),t("p",null,"合约号:"+a(n.order_id),1)]),_:2},1024),Y(t("img",ss,null,512),[[J,c==z.value]])])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1},8,["modelValue"])]))}},$s=Tt(ls,[["__scopeId","data-v-b21a995f"]]);export{$s as default};
