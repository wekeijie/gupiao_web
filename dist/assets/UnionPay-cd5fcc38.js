import{P as T}from"./topWrap-84c3f02a.js";import{z as n,N as U,O as q,P as c,dn as H,A as _,Q as v,x as e,C as t,I as l,D as M,U as N,F as o,W as r,_ as f,E as x}from"./index-1c329e09.js";import{u as P}from"./index-529bcb59.js";import{V as B}from"./VSheet-64e78492.js";import{V as k}from"./VRow-e5739c56.js";import{V as s}from"./VCol-657f3384.js";import{V as g}from"./VTextField-3b13b6eb.js";/* empty css                                                                */import"./_plugin-vue_export-helper-c27b6911.js";import"./_commonjsHelpers-de833af9.js";import"./index-9d9c441a.js";import"./VInput-cc98f21a.js";const L={class:"bg-color ui-min-height px-3 pt-4"},z=l("div",{class:"text-body-1 mb-3 text-grey-darken-1"}," 请先成功付款后再“填写付款信息”确认提交 ",-1),E={class:""},F=["src"],I={key:1,class:"text-caption text-grey-darken-1"},A={class:"text-body-2"},D={class:"text-body-2"},R={class:"text-body-2"},S=l("div",{class:"text-body-1 mt-3"},"充值说明",-1),J=["innerHTML"],O=l("div",{class:"text-body-1 mt-3 text-grey-darken-1"},"填写付款信息",-1),Q=["innerHTML"],oe={__name:"UnionPay",setup(W){const d=n(""),a=n({}),u=n(""),y=n("充值"),{toClipboard:h}=P(),b=U();q(async()=>{if(!b.query.code){c.dispatch("snackbar/warning",{active:!0,body:"充值渠道不存在，请联系在线客服"});return}a.value=await H(b.query.code),y.value=a.value.title});const V=()=>{if(d.value<a.value.min){c.dispatch("snackbar/warning",{active:!0,body:"金额不能低于最低金额"});return}if(a.value.id==""){maintenance();return}c.dispatch("topUp/subPut",{name:u.value,id:a.value.id,amount:d.value}).then(p=>{c.dispatch("snackbar/success",{active:!0,body:"提交成功，请等待审核"})})},w=async()=>{try{await h(a.value.app_id),c.dispatch("snackbar/success",{active:!0,body:"复制成功！"})}catch{c.dispatch("snackbar/warning",{active:!0,body:"操作错误！"})}},C=async()=>{try{await h(a.value.public_key),c.dispatch("snackbar/success",{active:!0,body:"复制成功！"})}catch{c.dispatch("snackbar/warning",{active:!0,body:"操作错误！"})}};return(p,i)=>(_(),v(N,null,[e(T,null,{headerCenter:t(()=>[o(r(y.value),1)]),_:1}),l("div",L,[z,e(B,{class:"px-2 py-5 rounded-lg"},{default:t(()=>[l("div",E,[a.value.qrcode?(_(),v("img",{key:0,src:a.value.qrcode,width:"120"},null,8,F)):f("",!0),a.value.qrcode?(_(),v("div",I," 截屏保存二维码到本地相册 ")):f("",!0),e(k,{class:"ma-0 pa-0"},{default:t(()=>[e(s,{cols:"3",class:"text-right"},{default:t(()=>[o("开户人")]),_:1}),e(s,{cols:"9",class:"d-indent-flex"},{default:t(()=>[l("div",A,r(a.value.public_key),1),e(x,{color:"blue-accent-2",size:"x-small",class:"ml-1",onClick:C},{default:t(()=>[o("mdi-content-copy")]),_:1})]),_:1}),e(s,{cols:"3",class:"text-right pl-0"},{default:t(()=>[o("银行名称")]),_:1}),e(s,{cols:"9",class:"d-indent-flex"},{default:t(()=>[l("div",D,r(a.value.private_key),1)]),_:1}),e(s,{cols:"3",class:"text-right pl-0"},{default:t(()=>[o("银行账户")]),_:1}),e(s,{cols:"9",class:"d-indent-flex"},{default:t(()=>[l("div",R,r(a.value.app_id),1),e(x,{color:"blue-accent-2",size:"x-small",class:"ml-1",onClick:w},{default:t(()=>[o("mdi-content-copy")]),_:1})]),_:1})]),_:1}),S]),l("div",{class:"px-2 mt-2",innerHTML:a.value.explain},null,8,J)]),_:1}),O,e(k,{class:"ma-0 pa-0 bg-white rounded-lg pb-3 mt-3"},{default:t(()=>[e(s,{cols:"3",class:"px-0 pt-5 pl-3"},{default:t(()=>[o("转账金额")]),_:1}),e(s,{cols:"9",class:"pa-0 pr-3"},{default:t(()=>[e(g,{variant:"underlined",modelValue:d.value,"onUpdate:modelValue":i[0]||(i[0]=m=>d.value=m),class:"mt-3","hide-details":"",density:"compact",placeholder:"请输入转账金额"},null,8,["modelValue"])]),_:1}),e(s,{cols:"3",class:"px-0 pt-5 pl-3"},{default:t(()=>[o("付款人")]),_:1}),e(s,{cols:"9",class:"pa-0 pr-3"},{default:t(()=>[e(g,{variant:"underlined",modelValue:u.value,"onUpdate:modelValue":i[1]||(i[1]=m=>u.value=m),class:"mt-3","hide-details":"",density:"compact",placeholder:"请输入付款人姓名"},null,8,["modelValue"])]),_:1})]),_:1}),e(M,{block:"",color:"#5262EC",class:"mt-4 text-white",onClick:V},{default:t(()=>[o("确认提交")]),_:1}),l("div",{class:"mt-3 text-caption text-grey-darken-1 mt-3",innerHTML:a.value.tip},null,8,Q)])],64))}};export{oe as default};
