import{p as D,cj as E,ck as U,y as Y,ak as W,cl as j,e as z,c as C,r as b,I as O,ab as P,J as d,at as T,cm as J,K as G,L as K,a as N,o as Q,a1 as l,N as V,a0 as k,P as p,Y as t,a5 as i,T as h,a3 as L,a4 as M,S as r,a8 as X,O as F,aa as R,ac as Z,Q as q,W as H,X as $}from"./index-5bda1381.js";import{_ as tt}from"./rightImg-2896a6bb.js";import{_ as et}from"./close-d0614903.js";import{_ as ot}from"./select-578d2b77.js";import{P as st}from"./topWrap-eaa67b97.js";import{_ as at}from"./_plugin-vue_export-helper-c27b6911.js";import{V as lt}from"./VTextField-d3a0b571.js";import{V as nt}from"./VDialog-9f08fd03.js";import{V as it,a as rt,b as ct}from"./VList-fef44dea.js";import{V as ut}from"./VBottomSheet-ad4788bc.js";import{V as dt}from"./VCheckbox-8bd3a62d.js";/* empty css                                                                */import"./index-aaf70bda.js";import"./VInput-068ae5e9.js";import"./index-e2d1ef98.js";import"./dialog-transition-12ffa5ee.js";import"./ssrBoot-92768a79.js";import"./createSimpleFunctional-887eb59e.js";import"./VAvatar-056a8d0c.js";import"./VImg-66fa8139.js";import"./VDivider-8d6752dd.js";import"./VCheckboxBtn-5d880c56.js";import"./VSelectionControl-3ae919ca.js";const x="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAADIUlEQVRIS71WTWgTURD+5q1/FWpBUap3f04WEYxgtRXBQ+1JT4o/KE3SKhbag16yu293vfSiqEizW4uCoiB6EYt4qdCI2IKoePDv3tYKWq3VCtkdeZuk2CZNUkic07Jv3nwz38ybGUIJ0fVkg1gqDjJjtyBsYmCtukLAFwY+EHPKJzxwjPjbYqZoocOE7G3WSDggaizlTHjOPBSQSDhGNFVIPw+o6+K9mrqpycsBoY1Cx7PCPMFErwgYC+0C64l5G4jWzaoATID749vP7kuXun//CzgHSMrrq5mCARB2Zo35BL4LX1yzrOhwxv4cIdPsi0ALzjDoMAFa5h4Pi2C6RcrurzntWSAVyaqpycEcCJjfBySOOkb0ZTnU6XbfdgG+DWBLhko8J166T8qTM9mcZsxIy/OYEM3y/WzmF1p7euLfywHJ6Zw/79atWCkegnhP9l/SMmIds0C67TUR8DTMCeM9gpmIZXX+mA+ScJIbBbQj6n8A/84Fvf3TfJ1zPf21NTP+CAhbWJUI0k2OcToVUmdaXgqERgZ8RjriGKcL0mVY7gEiepQpMm61zfhAoYgVjQQeDnPGPGSZ8SaVzK3Q+E0YHuOWNGPHF6KrXKDQedu9BdDRTPS8lUzbcwAkQqDAj0jZMVIJIN12IwL0Ihu9pYCeAmgm4LM0YvXFkr+YiJTfpu2NA1DvbJBMyx0DUT0Dj20j1lJBIEXfE4D2gzGqUP8AWMbMN2wzfqqSQIbl3iSiEwCnybC9tKqO/wE0SsD6cqiTsncdNG1HGLXvj0jZMVGMgTnUGbY3SMDecophMV0irxgMy7WJSC+nvM+evbK8tn75aqU7Nf7n69WrnSq/BSWvvHU72SAgXlf9wSoAw/aeEbCrOi2IhiwzqnopoKapEJrKVXWbqgKrxphghmubsfbZMaE+5g8+At75SB9bqJPPr4Bw8HFwG0TFB18YVUVHudYiZVv+KM95WGo5EcSjYetn2lBoOQGzNzU53VV0OfmXjoTsa14i+AIDu8p6qItdt/K572/QODjExLsZvJkg1qjNQy2QAfNHYkoFgu+XWiD/AsuYBMsfX6RYAAAAAElFTkSuQmCC";const pt=D({id:String,text:String,...E(U({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),mt=Y()({name:"VTooltip",props:pt(),emits:{"update:modelValue":e=>!0},setup(e,w){let{slots:c}=w;const m=W(e,"modelValue"),{scopeId:_}=j(),f=z(),y=C(()=>e.id||`v-tooltip-${f}`),A=b(),u=C(()=>e.location.split(" ").length>1?e.location:e.location+" center"),n=C(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),S=C(()=>e.transition?e.transition:m.value?"scale-transition":"fade-transition"),I=C(()=>T({"aria-describedby":y.value},e.activatorProps));return O(()=>{const[g]=P.filterProps(e);return d(P,T({ref:A,class:["v-tooltip",e.class],style:e.style,id:y.value},g,{modelValue:m.value,"onUpdate:modelValue":a=>m.value=a,transition:S.value,absolute:!0,location:u.value,origin:n.value,persistent:!0,role:"tooltip",activatorProps:I.value,_disableGlobalStack:!0},_),{activator:c.activator,default:function(){var B;for(var a=arguments.length,o=new Array(a),v=0;v<a;v++)o[v]=arguments[v];return((B=c.default)==null?void 0:B.call(c,...o))??e.text}})}),J({},A)}}),s=e=>(H("data-v-599a660b"),e=e(),$(),e),vt=s(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"3px"}},null,-1)),_t={class:"flexBetween list-box"},ft=s(()=>t("h3",null,"钱包可用余额",-1)),gt=s(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"3px"}},null,-1)),ht=s(()=>t("h3",null,"合约类型",-1)),bt={class:"pact-type"},xt=s(()=>t("img",{src:tt,alt:""},null,-1)),Vt=s(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"3px"}},null,-1)),yt={class:"input-number"},At=s(()=>t("div",{class:"flexBetween input-title-box"},[t("h2",null,"请输入保证金额度"),t("p",null,[r("可配资金"),t("span",null,"500-5000000"),r("元")])],-1)),Ct=s(()=>t("div",{style:{"background-color":"rgb(245, 245, 245)",height:"3px"}},null,-1)),kt=s(()=>t("div",{class:"limit-box mb-n8"},[t("h5",null,"申请额度")],-1)),Bt={class:"flexStart limit-list-box"},wt=["onClick"],St=s(()=>t("span",null,null,-1)),It={class:"flexBetween sheet-top"},Pt=s(()=>t("div",{class:"sheet-sure"},"选择合约类型",-1)),Tt={class:"flexBetween type-list"},Lt={key:0,src:ot,alt:""},Mt={class:"prop-tips"},qt=s(()=>t("h1",null,"会员详情",-1)),Dt={class:"prop-cont flexBetween"},Et=s(()=>t("p",null,[r(" 总操盘资金 "),t("img",{src:x,alt:""})],-1)),Ut={class:"prop-cont flexBetween"},Yt=s(()=>t("p",null,"保证金/本金",-1)),Wt={class:"prop-cont flexBetween"},jt=s(()=>t("p",null,"配资资金",-1)),zt={class:"prop-cont flexBetween"},Ot=s(()=>t("p",null,[r(" 亏损预警线 "),t("img",{src:x,alt:""})],-1)),Jt={class:"prop-cont flexBetween"},Gt=s(()=>t("p",null,[r(" 亏损平仓线 "),t("img",{src:x,alt:""})],-1)),Kt={class:"prop-cont flexBetween"},Nt=s(()=>t("p",null,[r(" 利率 "),t("img",{src:x,alt:""})],-1)),Qt={class:"prop-cont flexBetween"},Xt=s(()=>t("p",null,"产生利息",-1)),Ft={class:"prop-cont flexBetween"},Rt=s(()=>t("p",null,[r(" 资金使用时间 "),t("img",{src:x,alt:""})],-1)),Zt={class:"prop-cont flexBetween"},Ht=s(()=>t("p",null,[r(" 可用利息券 "),t("img",{src:x,alt:""})],-1)),$t={class:"prop-cont flexBetween"},te=s(()=>t("p",{class:"flexStart"},[r(" 准备资金 "),t("img",{src:x,alt:""})],-1)),ee={class:"prop-lab"},oe={class:"prop-btn flexCenter"},se={__name:"ApplyContract",setup(e){const w=G();K();const c=b(0),m=b(!1),_=b(!1),f=b({}),y=b(!0),A=g=>{l.state.contract.typeList[g]&&(f.value=l.state.contract.typeList[g]),m.value=!1},u=b(500),n=N({total:0,expand:0,loss_waring:0,loss_fail:0,rate:0});Q(()=>{l.dispatch("user/userInfo"),l.dispatch("contract/getType").then(()=>{A(0)}),l.dispatch("contract/getLimit")});const S=()=>{const g={amount:u.value,type_id:f.value.id,limit_id:l.state.contract.limitList[c.value].id};l.dispatch("contract/create",g).then(()=>{l.dispatch("snackbar/success",{active:!0,body:"申请成功！"}),_.value=!1,w.push("/Pact")})},I=()=>{if(_.value=!0,u.value>l.state.user.info.balance){l.dispatch("snackbar/warning",{active:!0,body:"保证金不足，请前往充值！"});return}n.expand=u.value*l.state.contract.limitList[c.value].limit,n.total=n.expand+u.value,n.loss_waring=n.expand+u.value*.5,n.loss_fail=n.expand+u.value*.2,n.rate=n.expand*(l.state.contract.limitList[c.value].rate/100),_.value=!0};return(g,a)=>(V(),k("div",null,[d(st,null,{headerCenter:p(()=>[r("申请合约")]),_:1}),vt,t("div",_t,[ft,t("h2",null,i("¥"+h(l).state.user.info.balance),1)]),gt,t("div",{class:"flexBetween list-box",onClick:a[0]||(a[0]=o=>m.value=!0)},[ht,t("div",bt,[t("span",null,i(f.value.title+"-操盘 "+f.value.day+"天"),1),xt])]),Vt,t("div",yt,[At,d(lt,{modelValue:u.value,"onUpdate:modelValue":a[1]||(a[1]=o=>u.value=o),variant:"underlined","hide-details":"auto",required:"",prefix:"￥",size:"25"},null,8,["modelValue"])]),Ct,kt,t("div",Bt,[(V(!0),k(L,null,M(h(l).state.contract.limitList,(o,v)=>(V(),k("div",{class:X(["limit-list",c.value==v?"activeBg":""]),key:o,onClick:B=>c.value=v},[t("h4",null,[r(i(o.title)+" ",1),St]),t("p",null,i(o.limit*u.value)+"元",1)],10,wt))),128))]),t("div",{class:"apply-btn",onClick:I},"立即申请"),d(h(ut),{modelValue:m.value,"onUpdate:modelValue":a[3]||(a[3]=o=>m.value=o)},{default:p(()=>[d(it,null,{default:p(()=>[t("div",It,[Pt,t("img",{src:et,alt:"",onClick:a[2]||(a[2]=o=>m.value=!1)})]),(V(!0),k(L,null,M(h(l).state.contract.typeList,(o,v)=>(V(),F(ct,{class:"flexCenter",key:o.title,onClick:B=>A(v)},{default:p(()=>[t("div",Tt,[d(rt,null,{default:p(()=>[r(i(o.title+"-操盘"+o.day+"天"),1)]),_:2},1024),o.id==f.value.id?(V(),k("img",Lt)):R("",!0)])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1},8,["modelValue"]),d(nt,{modelValue:_.value,"onUpdate:modelValue":a[7]||(a[7]=o=>_.value=o),persistent:"",class:"flexCenter"},{default:p(()=>[t("div",Mt,[qt,t("div",Dt,[Et,t("span",null,i(n.total)+"元",1)]),t("div",Ut,[Yt,t("span",null,i(u.value)+"元",1)]),t("div",Wt,[jt,t("span",null,i(n.expand)+"元/"+i(h(l).state.contract.limitList[c.value].limit)+"倍",1)]),t("div",zt,[Ot,t("span",null,i(n.loss_waring)+"元",1)]),t("div",Jt,[Gt,t("span",null,i(n.loss_fail)+"元",1)]),t("div",Kt,[Nt,t("span",null,i(h(l).state.contract.limitList[c.value].rate+"%"),1)]),t("div",Qt,[Xt,t("span",null,i(n.rate)+"元",1)]),t("div",Ft,[Rt,t("span",null,i(f.value.day)+"天后自动续期",1)]),t("div",Zt,[Ht,t("span",null,i(h(l).state.user.info.interest_amount)+"元",1)]),t("div",$t,[te,t("span",null,i(n.expand)+"元",1)]),t("div",ee,[d(dt,{modelValue:y.value,"onUpdate:modelValue":a[5]||(a[5]=o=>y.value=o),color:"#2979ff"},{label:p(()=>[t("p",null,[r(" 勾选即表示已阅读并同意《 "),d(mt,{location:"bottom"},{activator:p(({props:o})=>[t("span",{target:"_blank",onClick:a[4]||(a[4]=Z(()=>{},["stop"]))}," 配资协议 ")]),_:1}),r(" 》 ")])]),_:1},8,["modelValue"])]),t("div",oe,[d(q,{onClick:a[6]||(a[6]=o=>_.value=!1),color:"#fb5c39"},{default:p(()=>[r("取消")]),_:1}),d(q,{onClick:S,color:"#fb5c39"},{default:p(()=>[r("确认")]),_:1})])])]),_:1},8,["modelValue"])]))}},we=at(se,[["__scopeId","data-v-599a660b"]]);export{we as default};
