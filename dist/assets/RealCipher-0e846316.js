import{P as x,A as c,an as V,R as y,aC as b,B as C,T as k,y as r,D as o,J as s,E as I,S as p,G as _,W as m,aq as d,ar as i,H as R,I as B}from"./index-d1d8e427.js";import{_ as h,a as f}from"./eyeHide-4892524c.js";import{p as v}from"./vaildRule-7f5885e5.js";import{P as S}from"./topWrap-3013fb30.js";import{_ as D}from"./_plugin-vue_export-helper-c27b6911.js";import{V as P}from"./VForm-7fc87c82.js";import{V as T}from"./VDivider-0cc4884c.js";import{V as w}from"./VTextField-6f87966f.js";/* empty css                                                                */import"./VInput-03ffe64e.js";import"./index-b03892c7.js";const u=n=>(R("data-v-255203ce"),n=n(),B(),n),q={class:"login-box"},N=u(()=>s("p",null,"当前密码",-1)),E={src:h},F={src:f},H=u(()=>s("p",null,"新密码",-1)),U={src:h},$={src:f},z={class:"login-box"},A=u(()=>s("p",{class:"forget-box"},null,-1)),G={__name:"RealCipher",setup(n){x();const e=c("password"),a=V({password:"",new_password:""}),g=async()=>{if(a.password.length<6||a.password.length>12||a.new_password.length<6||a.new_password.length>12){p.dispatch("snackbar/warning",{active:!0,body:"密码不能小于6为或者大于12位"});return}p.dispatch("user/changePassword",a).then(()=>{p.dispatch("snackbar/success",{active:!0,body:"修改成功!"})})};return c(),y(()=>{b()}),(J,t)=>(C(),k("div",null,[r(S,null,{headerCenter:o(()=>[_("更改账号密码")]),_:1}),r(T,{thickness:3}),s("div",q,[r(P,{ref:"form"},{default:o(()=>[r(w,{variant:"underlined",modelValue:a.password,"onUpdate:modelValue":t[1]||(t[1]=l=>a.password=l),required:"",counter:12,label:"请输入当前密码",type:e.value,rules:m(v)},{prepend:o(()=>[N]),default:o(()=>[s("div",{class:"eye-show",onClick:t[0]||(t[0]=l=>e.value=="text"?e.value="password":e.value="text")},[d(s("img",E,null,512),[[i,e.value=="text"]]),d(s("img",F,null,512),[[i,e.value=="password"]])])]),_:1},8,["modelValue","type","rules"]),r(w,{variant:"underlined",modelValue:a.new_password,"onUpdate:modelValue":t[3]||(t[3]=l=>a.new_password=l),required:"",counter:12,label:"请输入新密码",type:e.value,rules:m(v)},{prepend:o(()=>[H]),default:o(()=>[s("div",{class:"eye-show",onClick:t[2]||(t[2]=l=>e.value=="text"?e.value="password":e.value="text")},[d(s("img",U,null,512),[[i,e.value=="text"]]),d(s("img",$,null,512),[[i,e.value=="password"]])])]),_:1},8,["modelValue","type","rules"])]),_:1},512)]),s("div",z,[r(I,{color:"success",class:"mt-4",size:"x-large",block:"",onClick:g},{default:o(()=>[_(" 提交 ")]),_:1}),A])]))}},se=D(G,[["__scopeId","data-v-255203ce"]]);export{se as default};
